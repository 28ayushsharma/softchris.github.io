<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Great new features in C# for a returning .NET dev, deconstruct, pattern matching and records</title>
    <meta name="description" content="[object Object]">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <link rel="preload" href="/assets/css/0.styles.32616fcf.css" as="style"><link rel="preload" href="/assets/js/app.4f193812.js" as="script"><link rel="preload" href="/assets/js/9.454b5262.js" as="script"><link rel="preload" href="/assets/js/4.eac68367.js" as="script"><link rel="preload" href="/assets/js/117.76e220ab.js" as="script"><link rel="prefetch" href="/assets/js/1.36663999.js"><link rel="prefetch" href="/assets/js/10.c579e12d.js"><link rel="prefetch" href="/assets/js/100.8261f734.js"><link rel="prefetch" href="/assets/js/101.720a66f9.js"><link rel="prefetch" href="/assets/js/102.c5b6b37f.js"><link rel="prefetch" href="/assets/js/103.6162cdfa.js"><link rel="prefetch" href="/assets/js/104.eb93834d.js"><link rel="prefetch" href="/assets/js/105.2d5d40d0.js"><link rel="prefetch" href="/assets/js/106.5f18e64e.js"><link rel="prefetch" href="/assets/js/107.43338afd.js"><link rel="prefetch" href="/assets/js/108.e1111a77.js"><link rel="prefetch" href="/assets/js/109.1eea06b1.js"><link rel="prefetch" href="/assets/js/11.e44a9c79.js"><link rel="prefetch" href="/assets/js/110.7b4f81ed.js"><link rel="prefetch" href="/assets/js/111.68a42b05.js"><link rel="prefetch" href="/assets/js/112.cc6eb7bd.js"><link rel="prefetch" href="/assets/js/113.a73050b8.js"><link rel="prefetch" href="/assets/js/114.78be529f.js"><link rel="prefetch" href="/assets/js/115.3a5201b0.js"><link rel="prefetch" href="/assets/js/116.909a04a6.js"><link rel="prefetch" href="/assets/js/118.a1a4fadb.js"><link rel="prefetch" href="/assets/js/119.2a0c1120.js"><link rel="prefetch" href="/assets/js/12.02e6e552.js"><link rel="prefetch" href="/assets/js/120.f31b1b5d.js"><link rel="prefetch" href="/assets/js/121.701589d8.js"><link rel="prefetch" href="/assets/js/122.e96b85f2.js"><link rel="prefetch" href="/assets/js/123.27970ec8.js"><link rel="prefetch" href="/assets/js/124.3a5b71a5.js"><link rel="prefetch" href="/assets/js/125.cf4856c9.js"><link rel="prefetch" href="/assets/js/126.d9b2dd4a.js"><link rel="prefetch" href="/assets/js/127.b80025a9.js"><link rel="prefetch" href="/assets/js/128.11049aed.js"><link rel="prefetch" href="/assets/js/129.96f36436.js"><link rel="prefetch" href="/assets/js/13.215ad842.js"><link rel="prefetch" href="/assets/js/130.b8a47eb5.js"><link rel="prefetch" href="/assets/js/131.e44ee627.js"><link rel="prefetch" href="/assets/js/132.fb3ebde8.js"><link rel="prefetch" href="/assets/js/133.ea2e4b92.js"><link rel="prefetch" href="/assets/js/134.e7f3d663.js"><link rel="prefetch" href="/assets/js/135.a41baa3e.js"><link rel="prefetch" href="/assets/js/136.6de3c785.js"><link rel="prefetch" href="/assets/js/137.b45e7da5.js"><link rel="prefetch" href="/assets/js/138.051d5ee1.js"><link rel="prefetch" href="/assets/js/139.0a944db5.js"><link rel="prefetch" href="/assets/js/14.1a060010.js"><link rel="prefetch" href="/assets/js/140.ecae1807.js"><link rel="prefetch" href="/assets/js/141.e2bb493f.js"><link rel="prefetch" href="/assets/js/142.3e454ab4.js"><link rel="prefetch" href="/assets/js/143.3daced5c.js"><link rel="prefetch" href="/assets/js/144.7ea37508.js"><link rel="prefetch" href="/assets/js/145.5197911a.js"><link rel="prefetch" href="/assets/js/146.def9fea8.js"><link rel="prefetch" href="/assets/js/147.7835d081.js"><link rel="prefetch" href="/assets/js/148.3efe84c3.js"><link rel="prefetch" href="/assets/js/149.ce4ee8fd.js"><link rel="prefetch" href="/assets/js/15.34674cd6.js"><link rel="prefetch" href="/assets/js/150.22aca09d.js"><link rel="prefetch" href="/assets/js/151.71568c65.js"><link rel="prefetch" href="/assets/js/152.c4cbb777.js"><link rel="prefetch" href="/assets/js/153.740c6761.js"><link rel="prefetch" href="/assets/js/154.7799675d.js"><link rel="prefetch" href="/assets/js/155.1177c66e.js"><link rel="prefetch" href="/assets/js/156.df6cd38b.js"><link rel="prefetch" href="/assets/js/157.a9d3e804.js"><link rel="prefetch" href="/assets/js/158.41b9be99.js"><link rel="prefetch" href="/assets/js/159.ae8a7c8b.js"><link rel="prefetch" href="/assets/js/16.651173ea.js"><link rel="prefetch" href="/assets/js/160.bf588f4d.js"><link rel="prefetch" href="/assets/js/161.a4205967.js"><link rel="prefetch" href="/assets/js/162.a1f5e9fd.js"><link rel="prefetch" href="/assets/js/163.660adabc.js"><link rel="prefetch" href="/assets/js/17.780050f1.js"><link rel="prefetch" href="/assets/js/18.178ed5d3.js"><link rel="prefetch" href="/assets/js/19.910fc8d0.js"><link rel="prefetch" href="/assets/js/20.f2e93d17.js"><link rel="prefetch" href="/assets/js/21.710dadb0.js"><link rel="prefetch" href="/assets/js/22.f4b7a74b.js"><link rel="prefetch" href="/assets/js/23.fa51555f.js"><link rel="prefetch" href="/assets/js/24.750257aa.js"><link rel="prefetch" href="/assets/js/25.b89393c2.js"><link rel="prefetch" href="/assets/js/26.e3067144.js"><link rel="prefetch" href="/assets/js/27.3ae67e52.js"><link rel="prefetch" href="/assets/js/28.ad131d60.js"><link rel="prefetch" href="/assets/js/29.2d61ba5c.js"><link rel="prefetch" href="/assets/js/3.970a66a4.js"><link rel="prefetch" href="/assets/js/30.b64b4f7c.js"><link rel="prefetch" href="/assets/js/31.1d52fcdf.js"><link rel="prefetch" href="/assets/js/32.3385e6c7.js"><link rel="prefetch" href="/assets/js/33.f2df8868.js"><link rel="prefetch" href="/assets/js/34.e538e46b.js"><link rel="prefetch" href="/assets/js/35.4f5ca76f.js"><link rel="prefetch" href="/assets/js/36.226d678a.js"><link rel="prefetch" href="/assets/js/37.0770aff2.js"><link rel="prefetch" href="/assets/js/38.50de5acb.js"><link rel="prefetch" href="/assets/js/39.1d878b41.js"><link rel="prefetch" href="/assets/js/40.ab89e15b.js"><link rel="prefetch" href="/assets/js/41.1bf4cba8.js"><link rel="prefetch" href="/assets/js/42.a77cd4e7.js"><link rel="prefetch" href="/assets/js/43.73aed762.js"><link rel="prefetch" href="/assets/js/44.be6612e4.js"><link rel="prefetch" href="/assets/js/45.f754d0bb.js"><link rel="prefetch" href="/assets/js/46.ce0b05f0.js"><link rel="prefetch" href="/assets/js/47.80468db8.js"><link rel="prefetch" href="/assets/js/48.3d301b11.js"><link rel="prefetch" href="/assets/js/49.913c3255.js"><link rel="prefetch" href="/assets/js/5.d1da013e.js"><link rel="prefetch" href="/assets/js/50.535ea91c.js"><link rel="prefetch" href="/assets/js/51.1fcb3554.js"><link rel="prefetch" href="/assets/js/52.fc7407e8.js"><link rel="prefetch" href="/assets/js/53.26a589ce.js"><link rel="prefetch" href="/assets/js/54.ecd8e917.js"><link rel="prefetch" href="/assets/js/55.097f7428.js"><link rel="prefetch" href="/assets/js/56.0055114e.js"><link rel="prefetch" href="/assets/js/57.5355b3fb.js"><link rel="prefetch" href="/assets/js/58.34ab508d.js"><link rel="prefetch" href="/assets/js/59.792d29bb.js"><link rel="prefetch" href="/assets/js/6.9bdf2d86.js"><link rel="prefetch" href="/assets/js/60.eadbd543.js"><link rel="prefetch" href="/assets/js/61.34faf536.js"><link rel="prefetch" href="/assets/js/62.603ca7ac.js"><link rel="prefetch" href="/assets/js/63.bb5ee168.js"><link rel="prefetch" href="/assets/js/64.87766a1f.js"><link rel="prefetch" href="/assets/js/65.d6e07827.js"><link rel="prefetch" href="/assets/js/66.d8ba6fb6.js"><link rel="prefetch" href="/assets/js/67.3cbc642b.js"><link rel="prefetch" href="/assets/js/68.6237b9d7.js"><link rel="prefetch" href="/assets/js/69.614262f5.js"><link rel="prefetch" href="/assets/js/7.9ac2367b.js"><link rel="prefetch" href="/assets/js/70.966d8650.js"><link rel="prefetch" href="/assets/js/71.34a6911b.js"><link rel="prefetch" href="/assets/js/72.05fca5e9.js"><link rel="prefetch" href="/assets/js/73.f36add93.js"><link rel="prefetch" href="/assets/js/74.6c27ec85.js"><link rel="prefetch" href="/assets/js/75.a786eaf6.js"><link rel="prefetch" href="/assets/js/76.dca03d61.js"><link rel="prefetch" href="/assets/js/77.af3ce1d2.js"><link rel="prefetch" href="/assets/js/78.0c6f870f.js"><link rel="prefetch" href="/assets/js/79.a9fe7ec7.js"><link rel="prefetch" href="/assets/js/8.6b13a443.js"><link rel="prefetch" href="/assets/js/80.3c2be786.js"><link rel="prefetch" href="/assets/js/81.6f5c6378.js"><link rel="prefetch" href="/assets/js/82.e9069ad7.js"><link rel="prefetch" href="/assets/js/83.1c8923e0.js"><link rel="prefetch" href="/assets/js/84.5fe0a748.js"><link rel="prefetch" href="/assets/js/85.0f637cf7.js"><link rel="prefetch" href="/assets/js/86.efc7bce8.js"><link rel="prefetch" href="/assets/js/87.2a4c1c4d.js"><link rel="prefetch" href="/assets/js/88.bbd6d45d.js"><link rel="prefetch" href="/assets/js/89.5bb2dd20.js"><link rel="prefetch" href="/assets/js/90.486983af.js"><link rel="prefetch" href="/assets/js/91.34533da6.js"><link rel="prefetch" href="/assets/js/92.d1b6b42b.js"><link rel="prefetch" href="/assets/js/93.31960c6b.js"><link rel="prefetch" href="/assets/js/94.4f4eb673.js"><link rel="prefetch" href="/assets/js/95.d4c791a6.js"><link rel="prefetch" href="/assets/js/96.e5129fbb.js"><link rel="prefetch" href="/assets/js/97.668b7326.js"><link rel="prefetch" href="/assets/js/98.ea119b6b.js"><link rel="prefetch" href="/assets/js/99.c65ccf16.js">
    <link rel="stylesheet" href="/assets/css/0.styles.32616fcf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/author/" class="nav-link">Author</a></div><div class="nav-item"><a href="/articles/" class="nav-link">Blog</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/author/" class="nav-link">Author</a></div><div class="nav-item"><a href="/articles/" class="nav-link">Blog</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Great new features in C# for a returning .NET dev, deconstruct, pattern matching and records</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/dotnet-csharp-news.html#references" class="sidebar-link">References</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/dotnet-csharp-news.html#_1-deconstruction" class="sidebar-link">-1- Deconstruction</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/dotnet-csharp-news.html#tuples" class="sidebar-link">Tuples</a></li><li class="sidebar-sub-header"><a href="/pages/dotnet-csharp-news.html#classes" class="sidebar-link">Classes</a></li></ul></li><li><a href="/pages/dotnet-csharp-news.html#_2-pattern-matching" class="sidebar-link">-2- Pattern matching</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/dotnet-csharp-news.html#property-pattern" class="sidebar-link">Property pattern</a></li></ul></li><li><a href="/pages/dotnet-csharp-news.html#_3-records" class="sidebar-link">-3- Records</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p># Great new features in C# for a returning .NET dev, deconstruct, pattern matching and records</p> <p>Follow me on <a href="https://twitter.com/chris_noring" target="_blank" rel="noopener noreferrer">Twitter<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, happy to take your suggestions on topics or improvements /Chris</p> <blockquote><p>So I've been out of the loop for a while. I've actually been coding full-stack JavaScript and upon returning to .NET I've noticed there have been a few amazing additions to C# language, features that I recognize from JavaScript and Functional languages. That makes me super happy as it means C# is able to pick the raisins from different paradigms and most importantly evolve and become better and better. Additionally seeing .NET Core become faster and better doesn't hurt either 😉 .NET working on all platforms, who would have thought that at the beginning of 2000? 😃</p></blockquote> <blockquote><p>So what are these features?</p></blockquote> <h2 id="references"><a href="#references" aria-hidden="true" class="header-anchor">#</a> References</h2> <ul><li><a href="https://docs.microsoft.com/en-us/dotnet/csharp/deconstruct?wt.mc_id=personal-blog-chnoring" target="_blank" rel="noopener noreferrer">Deconstructing, Tuples and Objects<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
This covers how to do Deconstructing for Tuples and Objects. It goes through everything you need to know</li> <li><a href="https://docs.microsoft.com/en-us/archive/msdn-magazine/2019/may/csharp-8-0-pattern-matching-in-csharp-8-0?wt.mc_id=personal-blog-chnoring" target="_blank" rel="noopener noreferrer">Pattern matching .NET 8.0<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
With .NET 8.0 came some updates to Pattern Matching that was added in C# 7.0</li> <li><a href="https://docs.microsoft.com/en-us/dotnet/csharp/pattern-matching?wt.mc_id=personal-blog-chnoring" target="_blank" rel="noopener noreferrer">Pattern matching in general<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
This covers the different types of pattern matching that exists.</li> <li><a href="https://blog.cdemi.io/whats-coming-in-c-8-0-records/" target="_blank" rel="noopener noreferrer">Records - the future isn't here yet, but here's a peek<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_1-deconstruction"><a href="#_1-deconstruction" aria-hidden="true" class="header-anchor">#</a> -1- Deconstruction</h2> <p>This is one feature I've come to love from JavaScript, of course in JavaScript it is called destructuring. So what's the idea? The idea is that you want to refer to a few properties on an object or items in a list but you really don't want to all of it. Let's look at a JS example:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// JavaScript example</span>

<span class="token keyword">function</span> <span class="token function">getPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'chris'</span><span class="token punctuation">,</span>
    company<span class="token punctuation">:</span> <span class="token string">'Microsoft'</span><span class="token punctuation">,</span>
    title<span class="token punctuation">:</span> <span class="token string">'Cloud Advocate'</span> 
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// without destructuring</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token function">getPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>company<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// with destructuring</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> company <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>company<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>As you can see in the above I have to type <code>person</code> as soon as I just want to talk to a member. A lot of extra characters 😕</p> <blockquote><p>How does this look in C# then?</p></blockquote> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token punctuation">(</span><span class="token keyword">var</span> pname<span class="token punctuation">,</span> <span class="token keyword">var</span> pcompany<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">CreatePerson</span><span class="token punctuation">(</span><span class="token string">&quot;chris&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;microsoft&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>Ok, looks similar. What exactly does <code>CreatePerson()</code> give back to me?</p></blockquote> <p>In this case, it gives back an Object, but it could also be a Tuple.</p> <blockquote><p>Ok so this just works or?</p></blockquote> <p>Well, depends on what structure you are working on. It works currently on Tuples and Classes, albeit with Classes you need to do a little extra work to get it up and running.</p> <h3 id="tuples"><a href="#tuples" aria-hidden="true" class="header-anchor">#</a> Tuples</h3> <p>Let's go through Tuples first so we understand the ins and outs of it. Let's first create a method that produces a Tuple. Like so:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">)</span> <span class="token function">GetPerson</span><span class="token punctuation">(</span><span class="token keyword">string</span> name<span class="token punctuation">,</span> <span class="token keyword">string</span> company<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> company<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>There are two ways we can go about this:</p> <ol><li>ask for all variables from our tuple</li> <li>ask for as many as we want but use a throwaway character <code>_</code></li></ol> <p>Let's demonstrate the first case:</p> <p><strong>All variables</strong></p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">var</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> company<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">GetPerson</span><span class="token punctuation">(</span><span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Microsoft&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// name = &quot;Chris&quot;</span>
<span class="token comment">// company = &quot;Microsoft&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>Discard case</strong></p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">var</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">GetPerson</span><span class="token punctuation">(</span><span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Microsoft&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// name = &quot;Chris&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Above we are using <code>_</code> to denote that we don't care about the second parameter in the Tuple.</p> <blockquote><p>What about if we have 3 or more parameters, would they all just be stored in <code>_</code>?</p></blockquote> <p>Well no. You would need to declare for each position it's a position we don't care about so that would mean we would type like this:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">var</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> _<span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">GetPerson</span><span class="token punctuation">(</span><span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Microsoft&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="classes"><a href="#classes" aria-hidden="true" class="header-anchor">#</a> Classes</h3> <p>We can do Destruct on classes as well and access specific fields just like we do with Tuples. To accomplish that we need however to add a <code>Deconstruct()</code> method to the class, like so:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> Company <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> Country <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Deconstruct</span><span class="token punctuation">(</span><span class="token keyword">out</span> <span class="token keyword">string</span> name<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token keyword">string</span> company<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        name <span class="token operator">=</span> Name<span class="token punctuation">;</span>
        company <span class="token operator">=</span> Company<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Deconstruct</span><span class="token punctuation">(</span><span class="token keyword">out</span> <span class="token keyword">string</span> name<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token keyword">string</span> company<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token keyword">string</span> country<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        name <span class="token operator">=</span> Name<span class="token punctuation">;</span>
        company <span class="token operator">=</span> Company<span class="token punctuation">;</span>
        country <span class="token operator">=</span> Country<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// and access like so</span>
<span class="token punctuation">(</span><span class="token keyword">var</span> name<span class="token punctuation">,</span> <span class="token keyword">var</span> company<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> Company <span class="token operator">=</span><span class="token string">&quot;Microsoft&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>The same rule applies here when it comes to positions we are not interested in, i.e use the <code>_</code> like so:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token punctuation">(</span><span class="token keyword">var</span> name<span class="token punctuation">,</span> <span class="token keyword">var</span> company<span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> Company <span class="token operator">=</span><span class="token string">&quot;Microsoft&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Above we are saying we are discarding <code>country</code>.</p> <p><strong>Overloading Deconstruct</strong></p> <p>You might have noticed how we in our class <code>Person</code> have two <code>Deconstruct()</code> methods. It's because we are overloading and this gives us the ability two write the following:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token punctuation">(</span><span class="token keyword">var</span> name<span class="token punctuation">,</span> <span class="token keyword">var</span> company<span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> Company <span class="token operator">=</span><span class="token string">&quot;Microsoft&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>like so:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token punctuation">(</span><span class="token keyword">var</span> name<span class="token punctuation">,</span> <span class="token keyword">var</span> company<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> Company <span class="token operator">=</span><span class="token string">&quot;Microsoft&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Above we are actually removing our discard, <code>_</code>, because we are now using the <code>Deconstruct()</code> with two params.</p> <blockquote><p>But wait, when do I need the discard, <code>_</code> then?</p></blockquote> <p>You need it for one parameter, in the following case:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token punctuation">(</span><span class="token keyword">var</span> name<span class="token punctuation">,</span> _ <span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> Company <span class="token operator">=</span><span class="token string">&quot;Microsoft&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Above we are targeting the <code>Deconstruct()</code> with two parameters while discarding the last param.</p> <blockquote><p>So why can't I just type <code>( var name )</code></p></blockquote> <p>It's implemented that way, what can I tell ya. Just remember, if using overloading, use 2 or more params to make use of it.</p> <p>To learn more about Deconstruct have a read here:</p> <blockquote><p>https://docs.microsoft.com/en-us/dotnet/csharp/deconstruct</p></blockquote> <h2 id="_2-pattern-matching"><a href="#_2-pattern-matching" aria-hidden="true" class="header-anchor">#</a> -2- Pattern matching</h2> <p>Pattern matching is something I've seen in functional languages like F#. So what's its purpose? Well if you ask me it's to type less and be more precise in what you actually want to be compared. So what are we talking about, really? Switch-case and how to make those easier to read and more purposeful.</p> <blockquote><p>Show me, please</p></blockquote> <p>Ok. So I came from a past when C# supported switch case on string, integers, and enums, that was it. Forget about using it on objects, then I would need to do if, else-if and cast the object, etc. Let's show some code so we are on the same page:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code> <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Character</span> 
    <span class="token punctuation">{</span>
      <span class="token keyword">private</span> <span class="token keyword">string</span> _name<span class="token punctuation">;</span>
      <span class="token keyword">public</span> <span class="token keyword">string</span> Name 
      <span class="token punctuation">{</span> 
        <span class="token keyword">get</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> _name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">public</span> <span class="token function">Character</span><span class="token punctuation">(</span><span class="token keyword">string</span> name<span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
          _name <span class="token operator">=</span> name<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hero</span><span class="token punctuation">:</span> <span class="token class-name">Character</span> 
    <span class="token punctuation">{</span>
      <span class="token keyword">public</span> <span class="token function">Hero</span><span class="token punctuation">(</span><span class="token keyword">string</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;The Good&quot;</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">Healing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
      <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token string">&quot;Performs healing&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Villain</span><span class="token punctuation">:</span> <span class="token class-name">Character</span> 
    <span class="token punctuation">{</span>
      <span class="token keyword">public</span> <span class="token function">Villain</span><span class="token punctuation">(</span><span class="token keyword">string</span> name<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;The Evil &quot;</span><span class="token operator">+</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

      <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">Lightning</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token string">&quot;Performs Force lightning&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>Now imagine we have some code like this:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">var</span> hero <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hero</span><span class="token punctuation">(</span><span class="token string">&quot;Luke&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> villain <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Villain</span><span class="token punctuation">(</span><span class="token string">&quot;Darth Vader&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Character</span> character <span class="token operator">=</span> hero<span class="token punctuation">;</span>
<span class="token keyword">var</span> ability <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Let's now add some switching logic to this from the C# I used to remember:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">if</span><span class="token punctuation">(</span>character <span class="token keyword">is</span> Hero<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
  <span class="token keyword">var</span> h <span class="token operator">=</span> <span class="token punctuation">(</span>Hero<span class="token punctuation">)</span> character<span class="token punctuation">;</span>
  ability <span class="token operator">=</span> h<span class="token punctuation">.</span><span class="token function">Healing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> v <span class="token operator">=</span> <span class="token punctuation">(</span>Villain<span class="token punctuation">)</span> character<span class="token punctuation">;</span>
  ability <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">Lightning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Are we happy about this? No not really. Good news though, per C# 7 we got the ability to do this:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">switch</span><span class="token punctuation">(</span>character<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token class-name">Hero</span> hero1<span class="token punctuation">:</span>
        ability <span class="token operator">=</span> hero1<span class="token punctuation">.</span><span class="token function">Healing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token class-name">Villain</span> villain1<span class="token punctuation">:</span>
        ability <span class="token operator">=</span> villain1<span class="token punctuation">.</span><span class="token function">Lightning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Above we are creating the object <code>hero1</code> or <code>villain1</code> depending on our case. That's a little less to type.</p> <p>Hold my beer, let's do C# 8.0 😃</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>ability <span class="token operator">=</span> character <span class="token keyword">switch</span> <span class="token punctuation">{</span>
  <span class="token class-name">Hero</span> hero2 <span class="token operator">=&gt;</span> hero2<span class="token punctuation">.</span><span class="token function">Healing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token class-name">Villain</span> villain2 <span class="token operator">=&gt;</span> villain2<span class="token punctuation">.</span><span class="token function">Lightning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  _ <span class="token operator">=&gt;</span> <span class="token string">&quot;Unknown&quot;</span> 
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>That looks really nice and compact 😃</p></blockquote> <p>Right?</p> <p>### Positional pattern</p> <p>We were just wow-ed by C# 8, or at least I was 😃 So what else do we have? We call it the positional pattern. This pattern gives us the ability to inspect an object and depending on what properties it has set a certain way we can act accordingly.</p> <p>Imagine that we have an invoice. Depending on what state it's in we might want to treat it differently, so how do we express this in a switch-case given pattern matching?</p> <p>Well before we do that let's first say that we will use <em>Destruction</em> to do this. Then the next interesting questions become, what values could be of interest. Let's assume we have the following properties on an <code>Invoice</code> class <code>BossSigned</code>, <code>SkipLevelBossSigned</code>. We make up a business rule that says if the boss and the boss above have signed the Invoice can be processed.</p> <ul><li><code>BossSigned</code>, has the value <code>null</code> or the date it was signed</li> <li><code>SkipLevelBossSigned</code>, has the value <code>null</code> or the date it was signed</li></ul> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">var</span> result <span class="token operator">=</span> invoice <span class="token keyword">switch</span> 
<span class="token punctuation">{</span>
  Invoice <span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;Boss need to sign&quot;</span><span class="token punctuation">,</span>
  Invoice <span class="token punctuation">(</span>_ <span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;Skip level boss need to sign&quot;</span><span class="token punctuation">,</span>
  _ <span class="token operator">=&gt;</span> <span class="token string">&quot;All good, process&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="property-pattern"><a href="#property-pattern" aria-hidden="true" class="header-anchor">#</a> Property pattern</h3> <p>So far we matched on type <code>Invoice</code> but we can also throw something at it where we don't care about type, just the shape</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">var</span> result <span class="token operator">=</span> shape <span class="token keyword">switch</span> 
<span class="token punctuation">{</span>
  <span class="token punctuation">{</span> BossSigned<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> SkipLevelBossSigned<span class="token punctuation">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;Boss need to sign&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> SkipLevelBossSigned<span class="token punctuation">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;Skip level boss need to sign&quot;</span><span class="token punctuation">,</span>
  _ <span class="token operator">=&gt;</span> <span class="token string">&quot;All good, process&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>The above has a risk though, it will hit the default case if <code>_</code> has the value null. You might want to fix the code before going to production.</p> <h2 id="_3-records"><a href="#_3-records" aria-hidden="true" class="header-anchor">#</a> -3- Records</h2> <p>This is something that hasn't landed yet but oh boy am I excited about it. What is it? Well, in short, forget about field declarations</p> <blockquote><p>Are you serious? What would I get instead and how would that look?</p></blockquote> <p>Ok, so this for me comes from Scala and Typescript, the ability to have heavy lifting done for you, namely the creation of fields. It looks like so in TypeScript:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Hero</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> name<span class="token punctuation">:</span> String<span class="token punctuation">,</span> <span class="token keyword">private</span> hp<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token keyword">public</span> shout<span class="token punctuation">:</span> String<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>The idea above is to have the fields <code>name</code>, <code>hp</code> and <code>shout</code> created for you. So you wouldn't have to type them out like so:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// the above would compile to this</span>

<span class="token keyword">class</span> <span class="token class-name">Hero</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> String<span class="token punctuation">,</span> hp<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> shout<span class="token punctuation">:</span> String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hp <span class="token operator">=</span> hp<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>shout <span class="token operator">=</span> shout<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>As a C# developer, this looks a little backward, with the type last?</p></blockquote> <p>It reminds me of this meme, but yea it's just the way it is 😃</p> <p><img src="https://dev-to-uploads.s3.amazonaws.com/i/guwdo0osb696z2arkwc0.jpg" alt=""></p> <blockquote><p>How would that look once implemented in C#? Well they are working on it but the proposal should look like this:</p></blockquote> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hero</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> hp<span class="token punctuation">,</span> <span class="token class-name">String</span> shout<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>which would compile into this:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hero</span> <span class="token punctuation">:</span> <span class="token class-name">IEquatable</span><span class="token operator">&lt;</span>Hero<span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> hp<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> shout<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token function">Hero</span><span class="token punctuation">(</span><span class="token keyword">string</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> hp<span class="token punctuation">,</span> <span class="token keyword">string</span> shout<span class="token punctuation">)</span> 
  <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hp <span class="token operator">=</span> hp<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>shout <span class="token operator">=</span> shout<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">bool</span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token class-name">Hero</span> other<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token comment">//</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">bool</span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword">object</span> other<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token comment">//</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">int</span> <span class="token function">GetHashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token comment">//</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Deconstruct</span><span class="token punctuation">(</span><span class="token keyword">out</span> <span class="token keyword">string</span> name<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token keyword">int</span> hp<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token keyword">string</span> shout<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      name <span class="token operator">=</span> name<span class="token punctuation">;</span>
      hp <span class="token operator">=</span> hp<span class="token punctuation">;</span>
      shout <span class="token operator">=</span> shout<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Hero</span> <span class="token function">With</span><span class="token punctuation">(</span><span class="token keyword">string</span> name <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">,</span> <span class="token keyword">string</span> shout <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shout<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Hero</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> hp<span class="token punctuation">,</span> shout<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>So we would get a lot extra like Deconstruct, Equal and using this new syntax <code>With</code>. <code>With</code> is a new thing too that helps us create new immutable objects. It would allow us to type like this:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">var</span> hero <span class="token operator">=</span> <span class="token function">GetHero</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// get a Hero object from somewhere</span>
<span class="token keyword">var</span> newHero <span class="token operator">=</span> hero<span class="token punctuation">.</span><span class="token function">With</span><span class="token punctuation">(</span>hp <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">)</span>

<span class="token comment">// alt syntax</span>
<span class="token keyword">var</span> otherHero <span class="token operator">=</span> hero with <span class="token punctuation">{</span> hp <span class="token operator">=</span> <span class="token number">23</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>## Summary</p> <p>This is the end of this article. If you are like me coming back to .NET it's the same but different and oh yes .NET Core, of course, is a huge bit of news. Being able to run .NET on Linux/Mac, containerize your code and more. Who thought that day would ever come?</p> <p>So confession time, would I use these constructs? I would definitely use the pattern matching, even if I would resort to inheritance a lot of the time and avoid this kind of logic.</p> <p>What about Deconstruct? I mean with Tuples yes, there is no extra effort needed to just have it work. For Objects? I see myself doing one of two things:</p> <ol><li>Create a method on a class that returns a Tuple of what I need</li> <li>Yes, add <code>Deconstruct()</code> method on classes where it makes sense. I would ask myself the following though: should I pass fields from a class to some outer context. Aren't fields an implementation detail? But what about properties? Well we have Data Transfer Objects with a lot of public fields, so there</li></ol> <p>Records, I need them in my life. Can't wait for them to finish implementing 😃</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4f193812.js" defer></script><script src="/assets/js/9.454b5262.js" defer></script><script src="/assets/js/4.eac68367.js" defer></script><script src="/assets/js/117.76e220ab.js" defer></script>
  </body>
</html>
