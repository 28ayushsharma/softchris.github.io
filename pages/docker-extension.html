<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Improve your Docker workflow with this VS Code extension</title>
    <meta name="description" content="[object Object]">
    
    
    <link rel="preload" href="/assets/css/0.styles.b244743b.css" as="style"><link rel="preload" href="/assets/js/app.1077fdd6.js" as="script"><link rel="preload" href="/assets/js/7.1b275639.js" as="script"><link rel="preload" href="/assets/js/6.6ae5d1ce.js" as="script"><link rel="preload" href="/assets/js/21.8ccc4b4a.js" as="script"><link rel="prefetch" href="/assets/js/1.1b576644.js"><link rel="prefetch" href="/assets/js/10.7bac90a4.js"><link rel="prefetch" href="/assets/js/11.01a6b72e.js"><link rel="prefetch" href="/assets/js/12.004aabb2.js"><link rel="prefetch" href="/assets/js/13.ce52cddb.js"><link rel="prefetch" href="/assets/js/14.b6e0c6b9.js"><link rel="prefetch" href="/assets/js/15.07067913.js"><link rel="prefetch" href="/assets/js/16.50314d1a.js"><link rel="prefetch" href="/assets/js/17.7ce6a9cd.js"><link rel="prefetch" href="/assets/js/18.eda17916.js"><link rel="prefetch" href="/assets/js/19.cd61a8a6.js"><link rel="prefetch" href="/assets/js/20.a4d63b29.js"><link rel="prefetch" href="/assets/js/22.5e93f2ba.js"><link rel="prefetch" href="/assets/js/23.dfa71c99.js"><link rel="prefetch" href="/assets/js/24.b508333a.js"><link rel="prefetch" href="/assets/js/25.3e09c98a.js"><link rel="prefetch" href="/assets/js/26.5d960c66.js"><link rel="prefetch" href="/assets/js/27.9a5480bd.js"><link rel="prefetch" href="/assets/js/28.7bbac0cf.js"><link rel="prefetch" href="/assets/js/29.98080ec7.js"><link rel="prefetch" href="/assets/js/3.262e56e6.js"><link rel="prefetch" href="/assets/js/30.40bf3c4e.js"><link rel="prefetch" href="/assets/js/31.c890fac6.js"><link rel="prefetch" href="/assets/js/32.c7f0736b.js"><link rel="prefetch" href="/assets/js/33.6ca47a2f.js"><link rel="prefetch" href="/assets/js/34.7a1dc0cf.js"><link rel="prefetch" href="/assets/js/35.6cf65d37.js"><link rel="prefetch" href="/assets/js/36.695fee10.js"><link rel="prefetch" href="/assets/js/37.31210639.js"><link rel="prefetch" href="/assets/js/38.047f8b64.js"><link rel="prefetch" href="/assets/js/39.6552e1ac.js"><link rel="prefetch" href="/assets/js/4.56ae630c.js"><link rel="prefetch" href="/assets/js/40.3699c732.js"><link rel="prefetch" href="/assets/js/41.2d165e9d.js"><link rel="prefetch" href="/assets/js/42.b3f5dc5b.js"><link rel="prefetch" href="/assets/js/43.a9f2029b.js"><link rel="prefetch" href="/assets/js/44.da684f41.js"><link rel="prefetch" href="/assets/js/45.8f727a31.js"><link rel="prefetch" href="/assets/js/46.ba246365.js"><link rel="prefetch" href="/assets/js/47.0a9a1060.js"><link rel="prefetch" href="/assets/js/48.f3983d5c.js"><link rel="prefetch" href="/assets/js/49.9aaf4a92.js"><link rel="prefetch" href="/assets/js/5.373600b1.js"><link rel="prefetch" href="/assets/js/50.ee242d5e.js"><link rel="prefetch" href="/assets/js/51.70b601ff.js"><link rel="prefetch" href="/assets/js/52.c3a923fb.js"><link rel="prefetch" href="/assets/js/53.7912b855.js"><link rel="prefetch" href="/assets/js/54.1d98eb4a.js"><link rel="prefetch" href="/assets/js/55.af78a3a1.js"><link rel="prefetch" href="/assets/js/56.019c6498.js"><link rel="prefetch" href="/assets/js/57.efbda61a.js"><link rel="prefetch" href="/assets/js/58.9bcc2893.js"><link rel="prefetch" href="/assets/js/59.2bf33e43.js"><link rel="prefetch" href="/assets/js/60.0a77889c.js"><link rel="prefetch" href="/assets/js/61.3717cfbc.js"><link rel="prefetch" href="/assets/js/62.df5410c6.js"><link rel="prefetch" href="/assets/js/63.cf37fa68.js"><link rel="prefetch" href="/assets/js/64.608fde42.js"><link rel="prefetch" href="/assets/js/65.b497f5f9.js"><link rel="prefetch" href="/assets/js/66.74cfc266.js"><link rel="prefetch" href="/assets/js/67.ab455053.js"><link rel="prefetch" href="/assets/js/68.c76ed714.js"><link rel="prefetch" href="/assets/js/69.2d7ac801.js"><link rel="prefetch" href="/assets/js/70.371523a9.js"><link rel="prefetch" href="/assets/js/71.d17d186a.js"><link rel="prefetch" href="/assets/js/8.a354cea0.js"><link rel="prefetch" href="/assets/js/9.be23d1a2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b244743b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/author/" class="nav-link">Author</a></div><div class="nav-item"><a href="/articles/" class="nav-link">Blog</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/author/" class="nav-link">Author</a></div><div class="nav-item"><a href="/articles/" class="nav-link">Blog</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Improve your Docker workflow with this VS Code extension</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/docker-extension.html#your-docker-workflow" class="sidebar-link">Your Docker workflow</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/docker-extension.html#resources" class="sidebar-link">Resources</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/docker-extension.html#install" class="sidebar-link">Install</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/docker-extension.html#authoring" class="sidebar-link">Authoring</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/docker-extension.html#generate-files" class="sidebar-link">Generate files</a></li><li class="sidebar-sub-header"><a href="/pages/docker-extension.html#authoring-with-autocomplete" class="sidebar-link">Authoring with autocomplete</a></li></ul></li><li><a href="/pages/docker-extension.html#manage" class="sidebar-link">Manage</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/docker-extension.html#build-the-app" class="sidebar-link">Build the app</a></li><li class="sidebar-sub-header"><a href="/pages/docker-extension.html#build-the-image" class="sidebar-link">Build the image</a></li><li class="sidebar-sub-header"><a href="/pages/docker-extension.html#run-the-image" class="sidebar-link">Run the image</a></li><li class="sidebar-sub-header"><a href="/pages/docker-extension.html#docker-compose" class="sidebar-link">Docker Compose</a></li></ul></li><li><a href="/pages/docker-extension.html#deploy-to-cloud" class="sidebar-link">Deploy to Cloud</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/docker-extension.html#summary" class="sidebar-link">Summary</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="improve-your-docker-workflow-with-this-vs-code-extension"><a href="#improve-your-docker-workflow-with-this-vs-code-extension" aria-hidden="true" class="header-anchor">#</a> Improve your Docker workflow with this VS Code extension</h1> <p>Follow me on <a href="https://twitter.com/chris_noring" target="_blank" rel="noopener noreferrer">Twitter<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, happy to take your suggestions on topics or improvements /Chris</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/f1ionmy0ygak8w85dvyd.gif" alt=""></p> <blockquote><p>There are quite a few things you will need to do as part of your Docker Workflow. You will spend a lot of your time at the terminal and a lot of your time authoring Dockerfiles and/or docker-compose.yaml. Luckily there exist an extension that can greatly help with that all of the above as well as deploying to the Cloud</p></blockquote> <h2 id="your-docker-workflow"><a href="#your-docker-workflow" aria-hidden="true" class="header-anchor">#</a> Your Docker workflow</h2> <p>There are some actions we keep on doing when dealing with Docker. Those are:</p> <ul><li><strong>Authoring</strong> a Dockerfile or docker-compose.yml</li> <li><strong>Managing</strong>, here we do everything from managing, tagging, pushing it to a repo and much more</li> <li><strong>Running/starting/stopping/ removing your container/s</strong>, there are quite a few movements involved here if we do this to every container/image. Luckily we have Docker Compose that can operate on groups.</li> <li><strong>Deploying</strong> your Docker Image to some sort of registry like Docker Hub or somewhere in the Cloud</li> <li><strong>Take it to production</strong>, this can be done on premise as well as using some sort of Cloud solution</li></ul> <p>We are likely to spend a lot of our time in the terminal unless we have something like <a href="https://kitematic.com/" target="_blank" rel="noopener noreferrer">Docker Kitematic<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> at our disposal or some similar tool.</p> <h2 id="resources"><a href="#resources" aria-hidden="true" class="header-anchor">#</a> Resources</h2> <p>Below is a set of resources so you deepen your Docker knowledge but also deal with Docker in the context of the Cloud:</p> <ul><li><a href="https://azure.microsoft.com/en-us/free/?wt.mc_id=personal-blog-chnoring" target="_blank" rel="noopener noreferrer">Sign up for a free Azure account<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
To work with containers in the Cloud and Deploy to the Cloud you will need a free Azure account</li> <li><a href="https://code.visualstudio.com/docs/azure/docker?wt.mc_id=personal-blog-chnoring" target="_blank" rel="noopener noreferrer">The Docker extension we are describing in this article<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> It does a lot of things for you like authoring, managing, deploying, well worth installing if you are serious about Docker</li> <li><a href="https://dev.to/azure/docker---from-the-beginning-part-i-28c6" target="_blank" rel="noopener noreferrer">5 part Docker series<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
This series really covers most things Dockers, basic concepts like Images, Containers, Networks, Volumes and so on</li> <li><a href="https://docs.microsoft.com/en-gb/azure/containers/?wt.mc_id=personal-blog-chnoring" target="_blank" rel="noopener noreferrer">Containers in the Cloud<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
Great overview page that shows what else there is to know about containers in the Cloud</li> <li><a href="https://docs.microsoft.com/en-gb/azure/container-instances/container-instances-tutorial-prepare-app?wt.mc_id=personal-blog-chnoring" target="_blank" rel="noopener noreferrer">Deploying your containers in the Cloud<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> Tutorial that shows how easy it is to leverage your existing Docker skill and get your services running in the Cloud</li> <li><a href="https://docs.microsoft.com/en-gb/azure/container-instances/container-instances-tutorial-prepare-acr?wt.mc_id=personal-blog-chnoring" target="_blank" rel="noopener noreferrer">Creating a container registry<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
Your Docker images can be in Docker Hub but also in a Container Registry in the Cloud. Wouldn't it be great to store your images somewhere and actually be able to create a service from that Registry in a matter of minutes?</li> <li><a href="https://dev.to/azure/learn-how-you-can-build-a-serverless-graphql-api-on-top-of-a-microservice-architecture-233g" target="_blank" rel="noopener noreferrer">Creating a GraphQL API using Microservices and Serverless<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> This show containerization with Docker and using GraphQL</li> <li><a href="https://dev.to/azure/learn-how-you-can-build-a-serverless-graphql-api-on-top-of-a-microservice-architecture-part-ii-deploy-it-to-the-cloud-26b6" target="_blank" rel="noopener noreferrer">Deploying Microservices and a GraphQL API to the Cloud<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> This shows how you can push your Docker containers to the Cloud as well as creating a Serverless function and deploy that as well</li></ul> <p>## Docker extension
The point of this article is to present a Visual Studio Code Extension that can really help your workflow. So what can it do?</p> <ul><li><strong>Authoring</strong>, it helps with generating  Dockerfiles as well as Docker Compose files. Furthermore, it helps you do autocomplete and even lints your file and much more.</li> <li><strong>Manage</strong>, It comes loaded with a set of commands that helps with everything from file generation to managing your images and your containers</li> <li><strong>Browsing repositories</strong>, it allows you to browse your Docker Hub as well as container registries in the Cloud</li> <li><strong>Deploy to the Cloud</strong>, The tool enables you to deploy to the Cloud in one click, just select your image and there you are, as simple as you want the deployment to be</li></ul> <h2 id="install"><a href="#install" aria-hidden="true" class="header-anchor">#</a> Install</h2> <p>We install this like we would install any extension. We open up our Visual Studio Code and press the extension button and type <code>Docker</code>, like so:
<img src="https://thepracticaldev.s3.amazonaws.com/i/51dg7315a7sbyyp4wfzn.png" alt=""></p> <h2 id="authoring"><a href="#authoring" aria-hidden="true" class="header-anchor">#</a> Authoring</h2> <p>There are two ways we can go about this:</p> <ul><li>Create our <code>Dockerfile</code> or <code>docker-compose.yml</code> file and start authoring</li> <li>Have the extension generate the file for us
Let's show the latter.</li></ul> <h3 id="generate-files"><a href="#generate-files" aria-hidden="true" class="header-anchor">#</a> Generate files</h3> <p>Bring up your command menu <code>CMD +SHIFT + P</code> on a Mac and start typing <code>Docker</code>. It should show you this
<img src="https://thepracticaldev.s3.amazonaws.com/i/edbe6u57002aull326gz.png" alt="">
Select <code>Add Docker Files to Workspace</code></p> <p>Then we are prompted with the following <code>Select platform</code> <img src="https://thepracticaldev.s3.amazonaws.com/i/o5aqovvkf6pg6lt6nze3.png" alt="">
We go with <code>Node.js</code> cause that's what we are trying to build. If you have a Go or .Net Core project, select that instead.</p> <p>Lastly we are asked to select a port, we go with the default suggested <code>3000</code>.</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/cds98m9u7crht0wt1vic.png" alt=""></p> <blockquote><p>What dialogs you need to through after selecting platform might differ per choice of platform</p></blockquote> <h4 id="the-generated-files"><a href="#the-generated-files" aria-hidden="true" class="header-anchor">#</a> The generated files</h4> <p>Ok then, what did we get from this?
We got:</p> <ul><li>docker-compose.yml</li> <li>docker-compose.debug.yml</li> <li>Dockerfile</li> <li>.dockerignore</li></ul> <p>Not just the files but loaded with content.</p> <p><strong>Dockerfile</strong>
Let's look at the <code>Dockerfile</code> for example</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>FROM node:10.13-alpine
ENV NODE_ENV production
WORKDIR /usr/src/app
COPY [&quot;package.json&quot;, &quot;package-lock.json*&quot;, &quot;npm-shrinkwrap.json*&quot;, &quot;./&quot;]
RUN npm install --production --silent &amp;&amp; mv node_modules ../
COPY . .
EXPOSE 3000
CMD npm start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Above we see that everything is done for us. It has</p> <ul><li><strong>Selected</strong> an image</li> <li><strong>Set</strong> an env variable</li> <li><strong>Set</strong> a workdir</li> <li><strong>Copied</strong> <code>package.json</code> and <code>package-lock.json</code></li> <li><strong>Installed</strong> our the libraries</li> <li><strong>Copied</strong> our application files</li> <li><strong>Exposed</strong> a port</li> <li><strong>Issued</strong> a command that will start our app up in the container</li></ul> <p>Quite impressive !. Of course, we still need to author our app</p> <p><strong>docker-compose.yml</strong>
Let's look at the <code>docker-compose.yml</code> file next:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>version: '2.1'

services:
  articles:
    image: articles
    build: .
    environment:
      NODE_ENV: production
    ports:
      - 3000:3000
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>It has set everything up in terms of how to build the image, set an environment variable and mapped a port</p> <p><strong>docker-compose.debug.yml</strong>
This gives us a very similar looking file as that of <code>docker-compose.yml</code> but with the difference of it running <code>node</code> in <em>inspect</em> mode, like so <code>command: node --inspect index.js</code></p> <p><strong>.dockerignore</strong>
This file contains a lot of good patterns that match files that we don't want to copy over like <code>node_modules</code>, <code>.git</code>, <code>.env</code>, <code>Dockerfile</code>. You might want to adjust this file to fit your needs.</p> <h3 id="authoring-with-autocomplete"><a href="#authoring-with-autocomplete" aria-hidden="true" class="header-anchor">#</a> Authoring with autocomplete</h3> <p>Ok. Let's look at a scenario where we do everything from scratch. Let's start off by creating a <code>Dockerfile</code>.</p> <p>Let's start typing <code>FROM</code>. As you can see below we get help with typing the command and what it should look like</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/v32cydz3qx9vzjlcglcr.png" alt=""></p> <p>We keep on typing the name of our <code>baseImage</code>, in this case, we are looking for <code>Node.js</code> image so we start typing the character <code>n</code>. Below we get a list of options matching what we are typing. It lists the base images by popularity and also adds some useful information so we understand what we are getting:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/bhowko7dniiyo1yiom6a.png" alt=""></p> <p>Next thing we try to type is <code>ENV</code> but we only get as far as <code>E</code> before it starts suggesting what command we are writing and how to type it:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/c42tk2ws9y464qanp8vf.png" alt="">
As you can see it's quite helpful in how we should type the command.</p> <p>Next up is <code>WORKDIR</code> and it shows us:
<img src="https://thepracticaldev.s3.amazonaws.com/i/cu8ldevt8ori764sqalm.png" alt="">
Not only is it telling is how to type the command but tells us that it affects commands like <code>COPY</code> and <code>ADD</code> etc.</p> <p>At this point we want to tell it to copy some files we might need before running commands like <em>installing a library</em>:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/e7u9bd54gm4p3wlncqqv.png" alt="">
This gives us the two different ways in which we can copy things <code>relative</code> or <code>absolute</code>.</p> <p>As mentioned we want to run a command so we can install things. Our auto complete tells us the following:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/ckdv05evl8asuqi7f2pw.png" alt="">
Again it suggests what kind of commands that might be.</p> <p>This far in the <code>Dockerfile</code> we might want to <code>COPY</code> our application files and we've already shown you how to use the autocomplete for that so let's look at <code>EXPOSE</code>:
<img src="https://thepracticaldev.s3.amazonaws.com/i/7qjwdsp37oqq2ef5s9k6.png" alt=""></p> <p>As you can see it shows all the different ways in which you can export a port, really educational.</p> <p>Ok, one more command is usually needed at this point either we use a <code>CMD</code> or <code>ENTRYPOINT</code> to start up our app in the container:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/9al1hhbhpz7gg384fwy3.png" alt=""></p> <h2 id="manage"><a href="#manage" aria-hidden="true" class="header-anchor">#</a> Manage</h2> <p>We will use the Command Palette here. It is almost a ridiculous amount of commands that it lets us invoke. Let's try to mention them by topic though. The Command Palette consists of a long long list of Docker commands. We can</p> <ul><li><strong>Build</strong> Docker image image</li> <li><strong>Run</strong> a container</li> <li><strong>See</strong> logs</li> <li><strong>Stop/Remove</strong> a container</li> <li><strong>Stop/Remove</strong> an image</li> <li><strong>Show</strong> logs
and much much more..</li></ul> <p>Let's focus on getting an app up and running.</p> <h3 id="build-the-app"><a href="#build-the-app" aria-hidden="true" class="header-anchor">#</a> Build the app</h3> <p>Ok, this is a really simple app so let's turn it into a Node.js app by going to the terminal and run</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm init -y
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>then run:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install express
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>followed by adding the following to <code>app.js</code>:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const express = require('express')
const app = express()
const port = 3000

app.get('/', (req, res) =&gt; res.send('Hello World!'))
app.listen(port, () =&gt; console.log(`Example app listening on port ${PORT}!`))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>lastly update <code>package.json</code> by adding the following to <code>scripts</code>:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node.app.js&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Now we are ready!</p> <blockquote><p>For all below commands, bring up the command palette with <code>View / Command Palette</code> from the menu or invoke the short command, for Mac it is <code>CMD + SHIFT + P</code></p></blockquote> <h3 id="build-the-image"><a href="#build-the-image" aria-hidden="true" class="header-anchor">#</a> Build the image</h3> <p>Start typing <code>Docker: Build</code>, the autocomplete will narrow down the choices. Invoke the suggested command.</p> <p>This will ask us if we want to use the Dockerfile where we are standing and what to tag the image with. After we've done our choices it set's about pulling down the base images and carries out all the commands in the <code>Dockerfile</code>.
Once it's done you should be able to see the newly built image by typing <code>docker images</code> and look for the tag name that you gave it, it should be listed on top.</p> <h3 id="run-the-image"><a href="#run-the-image" aria-hidden="true" class="header-anchor">#</a> Run the image</h3> <p>Start typing <code>Docker: Run</code> and take the command it suggests. This will give you a list of Docker images you could run. Looking at the command it invokes in the terminal it looks like so: <code>docker run --rm -d -p 3000:3000/tcp articles:latest</code></p> <h3 id="docker-compose"><a href="#docker-compose" aria-hidden="true" class="header-anchor">#</a> Docker Compose</h3> <p>Of course, we can leverage the power of Docker Compose, both up and down.</p> <p>Start typing <code>Docker: Compose Up</code>, this will create the Docker images the first time it's run followed by running the containers. Verify this with <code>docker ps</code>. Additionally, we have <code>Docker: Compose Down</code> and <code>Docker Compose Restart</code>.</p> <p>## Browse repositories
At the bottom of your action bar, you should have an icon that looks like a Docker whale. Clicking that and you should be faced with:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/2fu61gtvykrbg0owks91.png" alt="">
As you can see above you can view all the images on your machine but you can also look in different registries such as Docker Hub, Azure and if you've added any private registries. To use the Azure one you would need the <code>Azure Account</code> extension installed. Once that is installed you should see something like this:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/34mzt866dok07b6truqt.png" alt=""></p> <p>There are more commands we can carry out if we right-click on an a Docker image in our container registry in Azure:
<img src="https://thepracticaldev.s3.amazonaws.com/i/cash211cd6zsy7ov5w7r.png" alt="">
As you can see we can look at our resource in the portal. We can remove the entire repository but we can also PULL down whatever is there to our local machine.</p> <h2 id="deploy-to-cloud"><a href="#deploy-to-cloud" aria-hidden="true" class="header-anchor">#</a> Deploy to Cloud</h2> <p>There is one way to deploy to the Cloud:</p> <ul><li>Deploy from Docker Hub</li></ul> <p>This article <a href="https://code.visualstudio.com/docs/azure/docker" target="_blank" rel="noopener noreferrer">Article covering this extension<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> says deployment from Container Registry should be possible. I'm sure it is, I just couldn't figure it out how to do it from the extension. I will update the articles as soon as I do figure it out.</p> <p>Anyway, to Deploy from Docker Hub you just need to log in to it and right click your Docker image and select Deploy, like so:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/xo7nbt86ducbm7ofoggz.png" alt=""></p> <h2 id="summary"><a href="#summary" aria-hidden="true" class="header-anchor">#</a> Summary</h2> <p>We've shown you a lot of things you can do with this Visual Studio Code extension. You can manage your images, containers and do all sort of things with them like build them, run them, see the logs and even bring them to the Cloud.</p> <p>I hope you found this useful and that you give the extension a go.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1077fdd6.js" defer></script><script src="/assets/js/7.1b275639.js" defer></script><script src="/assets/js/6.6ae5d1ce.js" defer></script><script src="/assets/js/21.8ccc4b4a.js" defer></script>
  </body>
</html>
