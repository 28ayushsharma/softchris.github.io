<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>A crash course to the most important Docker concepts and their commands</title>
    <meta name="description" content="[object Object]">
    <head link="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-abap.js"></head>
    
    <link rel="preload" href="/assets/css/0.styles.8c98fca4.css" as="style"><link rel="preload" href="/assets/js/app.a52fb068.js" as="script"><link rel="preload" href="/assets/js/9.20ba5650.js" as="script"><link rel="preload" href="/assets/js/4.b33b06f6.js" as="script"><link rel="preload" href="/assets/js/104.b4b2ad76.js" as="script"><link rel="prefetch" href="/assets/js/1.76e1fa2c.js"><link rel="prefetch" href="/assets/js/10.51dda52b.js"><link rel="prefetch" href="/assets/js/100.9f271bb1.js"><link rel="prefetch" href="/assets/js/101.4dd42e36.js"><link rel="prefetch" href="/assets/js/102.6d37d64b.js"><link rel="prefetch" href="/assets/js/103.321bc269.js"><link rel="prefetch" href="/assets/js/105.52dad838.js"><link rel="prefetch" href="/assets/js/106.94d17058.js"><link rel="prefetch" href="/assets/js/107.62e1a9d2.js"><link rel="prefetch" href="/assets/js/108.55239339.js"><link rel="prefetch" href="/assets/js/109.2f5973c4.js"><link rel="prefetch" href="/assets/js/11.836ffd95.js"><link rel="prefetch" href="/assets/js/110.3e576d75.js"><link rel="prefetch" href="/assets/js/111.f378d635.js"><link rel="prefetch" href="/assets/js/112.f5b074c4.js"><link rel="prefetch" href="/assets/js/113.49fa1ce6.js"><link rel="prefetch" href="/assets/js/114.9b04881b.js"><link rel="prefetch" href="/assets/js/115.9fc9e232.js"><link rel="prefetch" href="/assets/js/116.90a64bf4.js"><link rel="prefetch" href="/assets/js/117.23d35494.js"><link rel="prefetch" href="/assets/js/118.47c182d8.js"><link rel="prefetch" href="/assets/js/119.5ff673f9.js"><link rel="prefetch" href="/assets/js/12.0ed640a1.js"><link rel="prefetch" href="/assets/js/120.92e75de2.js"><link rel="prefetch" href="/assets/js/121.f50c5069.js"><link rel="prefetch" href="/assets/js/122.c2faa5b2.js"><link rel="prefetch" href="/assets/js/123.32ea06d2.js"><link rel="prefetch" href="/assets/js/124.26c930f2.js"><link rel="prefetch" href="/assets/js/125.c343cfda.js"><link rel="prefetch" href="/assets/js/126.517d61f6.js"><link rel="prefetch" href="/assets/js/127.f52d55c4.js"><link rel="prefetch" href="/assets/js/128.3c8f7db6.js"><link rel="prefetch" href="/assets/js/129.ad8ee1c2.js"><link rel="prefetch" href="/assets/js/13.9b870990.js"><link rel="prefetch" href="/assets/js/130.9b42c35f.js"><link rel="prefetch" href="/assets/js/131.3c89206d.js"><link rel="prefetch" href="/assets/js/132.5579ac02.js"><link rel="prefetch" href="/assets/js/133.45065461.js"><link rel="prefetch" href="/assets/js/134.5e7a52d1.js"><link rel="prefetch" href="/assets/js/135.dac10c72.js"><link rel="prefetch" href="/assets/js/136.b2c5a2d7.js"><link rel="prefetch" href="/assets/js/137.0854429d.js"><link rel="prefetch" href="/assets/js/138.da882973.js"><link rel="prefetch" href="/assets/js/139.42d2a8fa.js"><link rel="prefetch" href="/assets/js/14.4794068b.js"><link rel="prefetch" href="/assets/js/140.5b5a3f25.js"><link rel="prefetch" href="/assets/js/141.cae04693.js"><link rel="prefetch" href="/assets/js/142.babf56eb.js"><link rel="prefetch" href="/assets/js/143.eb8e2fdc.js"><link rel="prefetch" href="/assets/js/144.9386423b.js"><link rel="prefetch" href="/assets/js/145.fcfb5079.js"><link rel="prefetch" href="/assets/js/146.af1bf739.js"><link rel="prefetch" href="/assets/js/147.7daacdff.js"><link rel="prefetch" href="/assets/js/148.5baa65d8.js"><link rel="prefetch" href="/assets/js/149.5a531aac.js"><link rel="prefetch" href="/assets/js/15.e392c70f.js"><link rel="prefetch" href="/assets/js/150.9f8c270f.js"><link rel="prefetch" href="/assets/js/151.1609d9b9.js"><link rel="prefetch" href="/assets/js/152.31c6c60a.js"><link rel="prefetch" href="/assets/js/153.fba95cdc.js"><link rel="prefetch" href="/assets/js/154.28391de9.js"><link rel="prefetch" href="/assets/js/155.d95701eb.js"><link rel="prefetch" href="/assets/js/156.749f7732.js"><link rel="prefetch" href="/assets/js/16.019de8ce.js"><link rel="prefetch" href="/assets/js/17.c628a80f.js"><link rel="prefetch" href="/assets/js/18.4ab7403e.js"><link rel="prefetch" href="/assets/js/19.ae2840ee.js"><link rel="prefetch" href="/assets/js/20.09f9c6ec.js"><link rel="prefetch" href="/assets/js/21.4b8a4546.js"><link rel="prefetch" href="/assets/js/22.976a3745.js"><link rel="prefetch" href="/assets/js/23.f071d7ac.js"><link rel="prefetch" href="/assets/js/24.d54033d0.js"><link rel="prefetch" href="/assets/js/25.e37583c4.js"><link rel="prefetch" href="/assets/js/26.75dd9db7.js"><link rel="prefetch" href="/assets/js/27.37ff94e9.js"><link rel="prefetch" href="/assets/js/28.523ca887.js"><link rel="prefetch" href="/assets/js/29.45c70b6d.js"><link rel="prefetch" href="/assets/js/3.95140222.js"><link rel="prefetch" href="/assets/js/30.9fa7fb8c.js"><link rel="prefetch" href="/assets/js/31.d10eeeb4.js"><link rel="prefetch" href="/assets/js/32.e738efc8.js"><link rel="prefetch" href="/assets/js/33.3d4d05cf.js"><link rel="prefetch" href="/assets/js/34.952c2053.js"><link rel="prefetch" href="/assets/js/35.1dc5832b.js"><link rel="prefetch" href="/assets/js/36.32a7b934.js"><link rel="prefetch" href="/assets/js/37.adc2c38c.js"><link rel="prefetch" href="/assets/js/38.4c9dadf9.js"><link rel="prefetch" href="/assets/js/39.f21a9d42.js"><link rel="prefetch" href="/assets/js/40.829865ee.js"><link rel="prefetch" href="/assets/js/41.4cce3a1c.js"><link rel="prefetch" href="/assets/js/42.3dd51060.js"><link rel="prefetch" href="/assets/js/43.c5471ea1.js"><link rel="prefetch" href="/assets/js/44.ce386a4b.js"><link rel="prefetch" href="/assets/js/45.6b8b45d6.js"><link rel="prefetch" href="/assets/js/46.29a07c70.js"><link rel="prefetch" href="/assets/js/47.ea4a708d.js"><link rel="prefetch" href="/assets/js/48.5c7f8477.js"><link rel="prefetch" href="/assets/js/49.5198f7ba.js"><link rel="prefetch" href="/assets/js/5.44d1fb4e.js"><link rel="prefetch" href="/assets/js/50.8a51819a.js"><link rel="prefetch" href="/assets/js/51.93ac52ba.js"><link rel="prefetch" href="/assets/js/52.703082e6.js"><link rel="prefetch" href="/assets/js/53.24fb0b8b.js"><link rel="prefetch" href="/assets/js/54.8df7a1ee.js"><link rel="prefetch" href="/assets/js/55.bf62bd70.js"><link rel="prefetch" href="/assets/js/56.23b35d89.js"><link rel="prefetch" href="/assets/js/57.b8b0790e.js"><link rel="prefetch" href="/assets/js/58.5a485b4a.js"><link rel="prefetch" href="/assets/js/59.d2e7960e.js"><link rel="prefetch" href="/assets/js/6.67cc1f3f.js"><link rel="prefetch" href="/assets/js/60.77d730c0.js"><link rel="prefetch" href="/assets/js/61.794bf6dd.js"><link rel="prefetch" href="/assets/js/62.5fe24e8a.js"><link rel="prefetch" href="/assets/js/63.06ba5bf5.js"><link rel="prefetch" href="/assets/js/64.5d70f478.js"><link rel="prefetch" href="/assets/js/65.f7a19cae.js"><link rel="prefetch" href="/assets/js/66.a224a0e5.js"><link rel="prefetch" href="/assets/js/67.f86f3368.js"><link rel="prefetch" href="/assets/js/68.29872d2c.js"><link rel="prefetch" href="/assets/js/69.7980e81b.js"><link rel="prefetch" href="/assets/js/7.30873a64.js"><link rel="prefetch" href="/assets/js/70.a1bba231.js"><link rel="prefetch" href="/assets/js/71.04c908e7.js"><link rel="prefetch" href="/assets/js/72.9cda5e0e.js"><link rel="prefetch" href="/assets/js/73.6ecba10e.js"><link rel="prefetch" href="/assets/js/74.0e67d48e.js"><link rel="prefetch" href="/assets/js/75.c4dbf322.js"><link rel="prefetch" href="/assets/js/76.728ae684.js"><link rel="prefetch" href="/assets/js/77.012465b9.js"><link rel="prefetch" href="/assets/js/78.94b5f64a.js"><link rel="prefetch" href="/assets/js/79.aa510c42.js"><link rel="prefetch" href="/assets/js/8.988484b0.js"><link rel="prefetch" href="/assets/js/80.17355868.js"><link rel="prefetch" href="/assets/js/81.7c455ee0.js"><link rel="prefetch" href="/assets/js/82.3e3691e9.js"><link rel="prefetch" href="/assets/js/83.ca963638.js"><link rel="prefetch" href="/assets/js/84.ae8fc4e8.js"><link rel="prefetch" href="/assets/js/85.8e01412c.js"><link rel="prefetch" href="/assets/js/86.d2526803.js"><link rel="prefetch" href="/assets/js/87.253b5a9a.js"><link rel="prefetch" href="/assets/js/88.b8e6aa1e.js"><link rel="prefetch" href="/assets/js/89.c762a4ea.js"><link rel="prefetch" href="/assets/js/90.155fb3a1.js"><link rel="prefetch" href="/assets/js/91.6bca8497.js"><link rel="prefetch" href="/assets/js/92.48da4d44.js"><link rel="prefetch" href="/assets/js/93.7d35d1fc.js"><link rel="prefetch" href="/assets/js/94.20602277.js"><link rel="prefetch" href="/assets/js/95.8110a4e5.js"><link rel="prefetch" href="/assets/js/96.ef44a423.js"><link rel="prefetch" href="/assets/js/97.10b0692e.js"><link rel="prefetch" href="/assets/js/98.9e768319.js"><link rel="prefetch" href="/assets/js/99.e80f1570.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8c98fca4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/author/" class="nav-link">Author</a></div><div class="nav-item"><a href="/articles/" class="nav-link">Blog</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/author/" class="nav-link">Author</a></div><div class="nav-item"><a href="/articles/" class="nav-link">Blog</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>A crash course to the most important Docker concepts and their commands</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/docker-concepts.html#resources" class="sidebar-link">Resources</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/docker-concepts.html#monday-morning-tis-but-a-script" class="sidebar-link">Monday morning - tis but a script</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/docker-concepts.html#to-mock-or-not-to-mock-that-is-the-question" class="sidebar-link">To Mock or not to Mock, that is the question?</a></li></ul></li><li><a href="/pages/docker-concepts.html#i-ve-run-it-and-something-went-wrong" class="sidebar-link">I've run it and something went wrong</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/docker-concepts.html#i-don-t-understand-docker-can-you-teach-me" class="sidebar-link">I don't understand Docker, can you teach me?</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/docker-concepts.html#the-basics" class="sidebar-link">The basics</a></li><li class="sidebar-sub-header"><a href="/pages/docker-concepts.html#run-stop-a-container" class="sidebar-link">Run/Stop a container</a></li><li class="sidebar-sub-header"><a href="/pages/docker-concepts.html#docker-compose" class="sidebar-link">Docker Compose</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="a-crash-course-to-the-most-important-docker-concepts-and-their-commands"><a href="#a-crash-course-to-the-most-important-docker-concepts-and-their-commands" aria-hidden="true" class="header-anchor">#</a> A crash course to the most important Docker concepts and their commands</h1> <p>Follow me on <a href="https://twitter.com/chris_noring" target="_blank" rel="noopener noreferrer">Twitter<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, happy to take your suggestions on topics or improvements /Chris</p> <blockquote><p>I've written this for you that just parachuted into a project that starts on Monday and it's Friday afternoon and you've got 2 hours to spare and you're like <em>crap</em>. I feel you, I've been there countless times. Don't worry, by the time you've read this article you will have more knowledge of what goes on in the code and with Docker and especially what they are talking about in the meetings.</p></blockquote> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/if0ywc9htfpn5mvy6mxw.gif" alt=""></p> <p>TLDR; this article is meant as a build up for this <a href="https://dev.to/softchris/5-part-docker-series-beginner-to-master-3m1b?wt.mc_id=personal-blog-chnoring" target="_blank" rel="noopener noreferrer">5 part series on Docker<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. The idea is to convey how the wrong mindset can stop you from learning Docker properly. I convey this by telling my Story on how I learned Docker. If you are here to learn a ton of Docker and is not interested in hearing this story, that does contain a few useful commands,  then click into the 5 part series as that's probably more what you had in mind.</p> <p>Still here? Great, story time.</p> <p>This story aims to give you a high-level view of the most important concepts and what commands are connected to it. I've written this as a set of self lived stories for mine and hopefully your amusement so you see when ignorance slowly turned into knowledge. Some of you might not know an IT career that didn't include containers and Docker, but I remember those monolithic applications and so does Pepperidge farm:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/79fc3sbw00g9zbngda5g.jpg" alt=""></p> <p>Furthermore, we cover that shaky first week or maybe even the first project in which you are happy to <em>copy-paste</em> docker commands. However, you really should consider learning it for real, especially if you want to write APIs or work with bigger solutions. Have a look at this series I wrote just for that:
<a href="https://dev.to/softchris/5-part-docker-series-beginner-to-master-3m1b" target="_blank" rel="noopener noreferrer">5 part series on Docker<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> but for now, let's pretend it's Friday afternoon so keep reading 😃</p> <h2 id="resources"><a href="#resources" aria-hidden="true" class="header-anchor">#</a> Resources</h2> <p>I end up mentioning some concepts in this article that is worth digging through further:</p> <ul><li><a href="https://azure.microsoft.com/en-gb/services/kubernetes-service/docker/?wt.mc_id=personal-blog-chnoring" target="_blank" rel="noopener noreferrer">A quick overview to Docker in the Cloud<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
If you are reading this you are looking for a primer on Docker but at some point, you need to know how you can keep using it in a production environment. That production environment is likely to be the Cloud at some point</li> <li><a href="https://dev.to/softchris/5-part-docker-series-beginner-to-master-3m1b?wt.mc_id=personal-blog-chnoring" target="_blank" rel="noopener noreferrer">My 5 part series on Docker<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="monday-morning-tis-but-a-script"><a href="#monday-morning-tis-but-a-script" aria-hidden="true" class="header-anchor">#</a> Monday morning - tis but a script</h2> <p>Ok. So you arrive at your new project and you know absolutely nothing about Docker and they tell you to install Docker. You head to this page <a href="https://docs.docker.com/install/" target="_blank" rel="noopener noreferrer">install link<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and depending on what OS you have you get different components installed.</p> <p>At this point, you still don't understand what's going on but you have Docker installed.</p> <h3 id="to-mock-or-not-to-mock-that-is-the-question"><a href="#to-mock-or-not-to-mock-that-is-the-question" aria-hidden="true" class="header-anchor">#</a> To Mock or not to Mock, that is the question?</h3> <p>Your new colleagues have most likely given you a script that is either a long script or a short script. It might look a bit alien but don't worry I got you. First time I got one of those scripts and it looked something like this:</p> <blockquote><p>docker run -d -p 8000:3000 --name my-container --link mysql-db:mysql chrisnoring/node</p></blockquote> <p>To be fair it was even longer. But even the above command would have been enough to confuse me at this point.</p> <p>I ran the script and low and behold everything worked. When I say worked it spun up a bunch of endpoints that my frontend application ended up speaking with.</p> <blockquote><p>Great I thought. That's what you use it for, to mock away endpoints?</p></blockquote> <p>At the time I was very frontend focused and in my universe I just wanted the backend people and myself to agree on a contract, a JSON schema that we could all say yes to, so I could work in peace. Of course, Docker is so much more than that but depending on what role you have in a team it may take you a while to realize its worth.</p> <h2 id="i-ve-run-it-and-something-went-wrong"><a href="#i-ve-run-it-and-something-went-wrong" aria-hidden="true" class="header-anchor">#</a> I've run it and something went wrong</h2> <p>Running that script means it will sooner or later break and when it spits out an error you need to know WHY it breaks. That's what happened to me and that was my introduction to some basic concepts and some very useful commands. Ok, so I don't remember if it was my computer falling asleep or if something just errored out that brought down one or more of my endpoints. It was down and it wouldn't respond. At that point, I was told by my more Docker savvy colleagues,</p> <blockquote><p>find out what containers are up and which ones are down. Just restart the failing container.</p></blockquote> <p>Of course, I was like a question mark. All I knew was how to copy paste a script in the terminal.</p> <p>At that point I was told by a colleague to just run this command:</p> <blockquote><p>docker ps</p></blockquote> <p>Then I saw a list like this:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/qss97semkxqvg4v0m77a.png" alt=""></p> <p>You can also run:</p> <blockquote><p>docker ps -a</p></blockquote> <p>So you can get more details.</p> <p>Then just type like this to bring up the container:</p> <blockquote><p>docker run -p 8000:3000 chrisnoring/node</p></blockquote> <p>I'm like uhu, <em>copying commands to notepad</em>. I suddenly knew how to list some containers and bring up one if it wasn't there. At that point, I was like, whats a container?</p> <p>Ok so at that point I had learned:</p> <ul><li><strong>copy paste</strong>, I could just copy paste that longer command that brought everything up</li> <li><strong>docker ps</strong>, shows all running containers</li> <li><strong>docker ps -a</strong>, shows all containers, even existed ones and some detailed info</li> <li><strong>docker run</strong>, brings up a container with a few extra commands like the port and the name of an image</li></ul> <p>It went on like that for the rest of the project. I mean I was front end focused, didn't feel like I needed Docker.</p> <h2 id="i-don-t-understand-docker-can-you-teach-me"><a href="#i-don-t-understand-docker-can-you-teach-me" aria-hidden="true" class="header-anchor">#</a> I don't understand Docker, can you teach me?</h2> <p>I've managed to get through the above-mentioned project on just copy pasting commands, yes it can be done. After all, working pure frontend I didn't feel I needed to know. That can be true for certain cases but generally, knowledge is power.</p> <p>So years after that I ended up on a project that was all microservices, like everywhere. Docker was used heavily and per usual I started working on the Frontend and then I decided I wanted to write some backend cause that was Node.js and Express and I knew both those techs. At that point, it wasn't enough to just copy paste some commands. I needed a number of endpoints to be up and running and to contain real data as well to mimic the real environment.</p> <blockquote><p>Suddenly it was more than just mocking endpoints it was about creating an environment that was like the production environment.</p></blockquote> <p>First thing I said was how does this work, how do we spin up our services?</p> <blockquote><p>Just type <code>docker-compose up</code> and you'll be fine, was the response</p></blockquote> <p>I was like eeh.. Docker, Docker Compose, same thing, different thing, where is that long script I'm used to, to get everything up and running?</p> <blockquote><p>Narrator: there was no long script.</p></blockquote> <p>I don't understand what does this do. Why Docker Compose why, not Docker something something, I said to a colleague?</p> <blockquote><p>Let's start from the beginning my colleague said. Let's start with Docker from the beginning.</p></blockquote> <h3 id="the-basics"><a href="#the-basics" aria-hidden="true" class="header-anchor">#</a> The basics</h3> <p>First thing you need to know is that there is a thing called images, containers and a <code>Dockerfile</code>. You build your images from a Dockerfile with a <code>docker build</code> command. The <code>Dockerfile</code> acts like a recipe for your image, what OS you need, what libraries to install, what variables to use and so on. At that point, he showed me a <code>Dockerfile</code>. Of course, I don't remember exactly how it looked but I'll show you something similar:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// Dockerfile

FROM node:latest

WORKDIR /app

COPY . .

ENV PORT=3000

RUN npm install

EXPOSE 3000

ENTRYPOINT [&quot;node&quot;, &quot;app.js&quot;]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>Here you can see from the top how we first choose an OS image called Node, with the <code>FROM</code> command. This is Ubuntu with Node.js installed. It will be pulled down from Docker Hub, which is a central repository:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/lvgvcqmw4irh5cp5u27p.png" alt=""></p> <p>Next is setting a working directory in the app with WORKDIR.</p> <p>After that, we copy the files from where we are located to the docker container with COPY. Thereafter we set an environment variable with ENV.</p> <p>Next up we invoke a command in the terminal with RUN, which in this case install every library specified in the package.json file.</p> <p>Next, to last, we open up a port 3000 so we can communicate with the container from the outside, with EXPOSE.</p> <p>Lastly, we start up a program with ENTRYPOINT.</p> <p>That was the <code>Dockerfile</code>, let's build our image. We do that with the <code>docker build</code>, like so:</p> <blockquote><p>docker build -t chrisnoring/node-app:latest .</p></blockquote> <p>The above does two things, the <code>-t</code> tags the image with a name <code>chrisnoring/node-app:latest</code> and secondly we point out where our Dockerfile is located with the <code>.</code>, at the end. So at this point, it reads through the Dockerfile and pulls down the OS and start adding each command as a layer on top of the image. We call this a layered file system. We can see this in action below:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/xgz8iqc5z4u321lfxvxb.png" alt=""></p> <p>We see two things that point this out, one is <code>Step 1/7</code>. It executes every command in the Dockerfile as a step. Thereafter it starts saying <code>Removing intermediate container...</code>. This means that it creates a temporary container from the previous image layer ( your latest instruction ). Then it starts to remove each of the layers when it's done with them. The last layer is tagged with the name you give it in the <code>docker build</code>.</p> <h3 id="run-stop-a-container"><a href="#run-stop-a-container" aria-hidden="true" class="header-anchor">#</a> Run/Stop a container</h3> <p>Ok, now that we have an image we have something that contains all we need, the OS, env files, our app and so on. But we need to create a container from our image. We do that by calling:</p> <blockquote><p>docker run -p 8005:3000 chrisnoring/node-app</p></blockquote> <p>What the above does is to first create an opening between our side and the container with <code>-p</code> and the syntax looks like <code>-p [our port]:[container port]</code>. Then we say what image, that is <code>chrisnoring/node-app</code>.</p> <p>This brings up a container that we are able to navigate with from port <code>8005</code>, like so:
<img src="https://thepracticaldev.s3.amazonaws.com/i/6x34rdzlxmctl0615h19.png" alt=""></p> <p>Ok, we learned about <code>docker run</code>, what about starting and stopping?</p> <p>Well if you already have a container that's up and running you can stop it with <code>docker stop [container id]</code>. The easiest way is to find it's container id with <code>docker ps</code>. You don't need to enter full container id, just the 3-4 first characters. This should bring down your container. At this point, it still exists so you easily start it with <code>docker start [container id]</code>.</p> <h3 id="docker-compose"><a href="#docker-compose" aria-hidden="true" class="header-anchor">#</a> Docker Compose</h3> <blockquote><p>Ok, so you taught me the basics of Docker with images, containers, and Dockerfiles. What about this Docker Compose?</p></blockquote> <p>Well, Docker Compose is a tool you can use when you have many containers. To use it you need to define a <code>docker-compose.yml</code>. It's where you specify all your services, how to build them, how they relate, what variables they need and so on. You still use Dockerfiles though for each service but Docker Compose is a way to perform things on a group of images and containers.</p> <p>This conversation carried out over the course of many weeks and I learned a whole lot in the process... 😃</p> <p>## Summary
As you can see I was once at a place where I first wasn't using Docker at all. Then I came to use it as just commands I was copy-pasting and finally, I saw the light and realized I needed it. Which lead to this to 5 part guide eventually.</p> <p><a href="https://dev.to/softchris/5-part-docker-series-beginner-to-master-3m1b" target="_blank" rel="noopener noreferrer">5 part Docker series<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>I hope the journey I told has been useful in teaching you what not learning a technology properly can have for consequences and that finally embracing it will mean you add a valuable tool to your toolset. I know many of you will or is probably following my footsteps, to some extent. So please read my 5 part series and I promise you, you will see the light</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a52fb068.js" defer></script><script src="/assets/js/9.20ba5650.js" defer></script><script src="/assets/js/4.b33b06f6.js" defer></script><script src="/assets/js/104.b4b2ad76.js" defer></script>
  </body>
</html>
