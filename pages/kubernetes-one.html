<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Learn Kubernetes  -  from the beginning, Part I, Basics, Deployment and Minikube</title>
    <meta name="description" content="[object Object]">
    <head link="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-abap.js"></head>
    
    <link rel="preload" href="/assets/css/0.styles.3bd14237.css" as="style"><link rel="preload" href="/assets/js/app.90947bae.js" as="script"><link rel="preload" href="/assets/js/9.4bb2b8d6.js" as="script"><link rel="preload" href="/assets/js/4.4e8b8d29.js" as="script"><link rel="preload" href="/assets/js/139.0001dba6.js" as="script"><link rel="prefetch" href="/assets/js/1.24c608c1.js"><link rel="prefetch" href="/assets/js/10.1a44155a.js"><link rel="prefetch" href="/assets/js/100.b2add775.js"><link rel="prefetch" href="/assets/js/101.75f7374a.js"><link rel="prefetch" href="/assets/js/102.7b5fa928.js"><link rel="prefetch" href="/assets/js/103.1dd4c5b2.js"><link rel="prefetch" href="/assets/js/104.6aac54a0.js"><link rel="prefetch" href="/assets/js/105.510033ce.js"><link rel="prefetch" href="/assets/js/106.4ee91c4d.js"><link rel="prefetch" href="/assets/js/107.6a6dd8ff.js"><link rel="prefetch" href="/assets/js/108.eb8ed62a.js"><link rel="prefetch" href="/assets/js/109.91f70a26.js"><link rel="prefetch" href="/assets/js/11.a62beca1.js"><link rel="prefetch" href="/assets/js/110.81e9f7f0.js"><link rel="prefetch" href="/assets/js/111.c15bb740.js"><link rel="prefetch" href="/assets/js/112.e8c0c64f.js"><link rel="prefetch" href="/assets/js/113.6e421530.js"><link rel="prefetch" href="/assets/js/114.e19c8df3.js"><link rel="prefetch" href="/assets/js/115.aa8b23f5.js"><link rel="prefetch" href="/assets/js/116.a7bd26b0.js"><link rel="prefetch" href="/assets/js/117.caadf99a.js"><link rel="prefetch" href="/assets/js/118.e4f04bc7.js"><link rel="prefetch" href="/assets/js/119.abfdb5e0.js"><link rel="prefetch" href="/assets/js/12.07aa0299.js"><link rel="prefetch" href="/assets/js/120.ae358599.js"><link rel="prefetch" href="/assets/js/121.e19c4014.js"><link rel="prefetch" href="/assets/js/122.363d3990.js"><link rel="prefetch" href="/assets/js/123.14778f84.js"><link rel="prefetch" href="/assets/js/124.97a77cd3.js"><link rel="prefetch" href="/assets/js/125.533afa47.js"><link rel="prefetch" href="/assets/js/126.8b4b9358.js"><link rel="prefetch" href="/assets/js/127.626145b3.js"><link rel="prefetch" href="/assets/js/128.c5d35e27.js"><link rel="prefetch" href="/assets/js/129.e5f5228b.js"><link rel="prefetch" href="/assets/js/13.2ad02b9b.js"><link rel="prefetch" href="/assets/js/130.21dd9e59.js"><link rel="prefetch" href="/assets/js/131.28c43f99.js"><link rel="prefetch" href="/assets/js/132.41823ed8.js"><link rel="prefetch" href="/assets/js/133.ff7fb3f9.js"><link rel="prefetch" href="/assets/js/134.dba2b25e.js"><link rel="prefetch" href="/assets/js/135.67a0e4ce.js"><link rel="prefetch" href="/assets/js/136.7203e28c.js"><link rel="prefetch" href="/assets/js/137.f284831f.js"><link rel="prefetch" href="/assets/js/138.c8f4020c.js"><link rel="prefetch" href="/assets/js/14.80d7dc82.js"><link rel="prefetch" href="/assets/js/140.2b3a0cad.js"><link rel="prefetch" href="/assets/js/141.b2fe894c.js"><link rel="prefetch" href="/assets/js/142.92c9ffbd.js"><link rel="prefetch" href="/assets/js/143.058155c4.js"><link rel="prefetch" href="/assets/js/144.aa239b34.js"><link rel="prefetch" href="/assets/js/145.facd9a30.js"><link rel="prefetch" href="/assets/js/146.285efe6c.js"><link rel="prefetch" href="/assets/js/147.8bb0f05a.js"><link rel="prefetch" href="/assets/js/148.2e990988.js"><link rel="prefetch" href="/assets/js/149.a5dd475a.js"><link rel="prefetch" href="/assets/js/15.94228c4c.js"><link rel="prefetch" href="/assets/js/150.b8c75c15.js"><link rel="prefetch" href="/assets/js/151.51529c52.js"><link rel="prefetch" href="/assets/js/152.8e041d4e.js"><link rel="prefetch" href="/assets/js/153.e60dd735.js"><link rel="prefetch" href="/assets/js/154.ce61aa0b.js"><link rel="prefetch" href="/assets/js/155.357b2ba0.js"><link rel="prefetch" href="/assets/js/156.f9fd8c77.js"><link rel="prefetch" href="/assets/js/157.466eea0a.js"><link rel="prefetch" href="/assets/js/16.f3d226a0.js"><link rel="prefetch" href="/assets/js/17.f01c72ab.js"><link rel="prefetch" href="/assets/js/18.0fbc545b.js"><link rel="prefetch" href="/assets/js/19.4162c2d8.js"><link rel="prefetch" href="/assets/js/20.ad1e1678.js"><link rel="prefetch" href="/assets/js/21.3d1dd8a6.js"><link rel="prefetch" href="/assets/js/22.19dc5d2b.js"><link rel="prefetch" href="/assets/js/23.1d2a2eb8.js"><link rel="prefetch" href="/assets/js/24.67aa5742.js"><link rel="prefetch" href="/assets/js/25.e2742232.js"><link rel="prefetch" href="/assets/js/26.f604e2cc.js"><link rel="prefetch" href="/assets/js/27.1314f146.js"><link rel="prefetch" href="/assets/js/28.f100b299.js"><link rel="prefetch" href="/assets/js/29.203a89ad.js"><link rel="prefetch" href="/assets/js/3.95140222.js"><link rel="prefetch" href="/assets/js/30.0646cb52.js"><link rel="prefetch" href="/assets/js/31.6dc5c171.js"><link rel="prefetch" href="/assets/js/32.0c08c75c.js"><link rel="prefetch" href="/assets/js/33.084539d2.js"><link rel="prefetch" href="/assets/js/34.cd9c78e2.js"><link rel="prefetch" href="/assets/js/35.7470d6c4.js"><link rel="prefetch" href="/assets/js/36.fbddd3e7.js"><link rel="prefetch" href="/assets/js/37.bed7fd15.js"><link rel="prefetch" href="/assets/js/38.f5953f83.js"><link rel="prefetch" href="/assets/js/39.8d0bef92.js"><link rel="prefetch" href="/assets/js/40.43bc49ea.js"><link rel="prefetch" href="/assets/js/41.3a99a765.js"><link rel="prefetch" href="/assets/js/42.9a31784c.js"><link rel="prefetch" href="/assets/js/43.a557e0d7.js"><link rel="prefetch" href="/assets/js/44.419e7011.js"><link rel="prefetch" href="/assets/js/45.2152f78c.js"><link rel="prefetch" href="/assets/js/46.b9cb8c56.js"><link rel="prefetch" href="/assets/js/47.65c68954.js"><link rel="prefetch" href="/assets/js/48.761c3ba9.js"><link rel="prefetch" href="/assets/js/49.a8f8307e.js"><link rel="prefetch" href="/assets/js/5.44d1fb4e.js"><link rel="prefetch" href="/assets/js/50.d5498c3e.js"><link rel="prefetch" href="/assets/js/51.6d0c8155.js"><link rel="prefetch" href="/assets/js/52.7a8c0bb3.js"><link rel="prefetch" href="/assets/js/53.9771efd0.js"><link rel="prefetch" href="/assets/js/54.eece5e74.js"><link rel="prefetch" href="/assets/js/55.f8ad92ca.js"><link rel="prefetch" href="/assets/js/56.83d25568.js"><link rel="prefetch" href="/assets/js/57.9f17e6b1.js"><link rel="prefetch" href="/assets/js/58.e78bdda3.js"><link rel="prefetch" href="/assets/js/59.75711e56.js"><link rel="prefetch" href="/assets/js/6.67cc1f3f.js"><link rel="prefetch" href="/assets/js/60.6e45a6d4.js"><link rel="prefetch" href="/assets/js/61.988bbee4.js"><link rel="prefetch" href="/assets/js/62.cfa20ba2.js"><link rel="prefetch" href="/assets/js/63.c50dde11.js"><link rel="prefetch" href="/assets/js/64.ed89cab2.js"><link rel="prefetch" href="/assets/js/65.39ac169b.js"><link rel="prefetch" href="/assets/js/66.7111a5c5.js"><link rel="prefetch" href="/assets/js/67.8aa05a96.js"><link rel="prefetch" href="/assets/js/68.e8571732.js"><link rel="prefetch" href="/assets/js/69.4d045230.js"><link rel="prefetch" href="/assets/js/7.e50b16ef.js"><link rel="prefetch" href="/assets/js/70.43cbb5d3.js"><link rel="prefetch" href="/assets/js/71.f8cf7633.js"><link rel="prefetch" href="/assets/js/72.1851a74c.js"><link rel="prefetch" href="/assets/js/73.b601a1cf.js"><link rel="prefetch" href="/assets/js/74.c0f5fa6e.js"><link rel="prefetch" href="/assets/js/75.73caab18.js"><link rel="prefetch" href="/assets/js/76.e24aff70.js"><link rel="prefetch" href="/assets/js/77.d40aa17a.js"><link rel="prefetch" href="/assets/js/78.26cf6a79.js"><link rel="prefetch" href="/assets/js/79.5aeb3aee.js"><link rel="prefetch" href="/assets/js/8.988484b0.js"><link rel="prefetch" href="/assets/js/80.8b4788c2.js"><link rel="prefetch" href="/assets/js/81.963c624f.js"><link rel="prefetch" href="/assets/js/82.c1f25195.js"><link rel="prefetch" href="/assets/js/83.f299a034.js"><link rel="prefetch" href="/assets/js/84.5f965d20.js"><link rel="prefetch" href="/assets/js/85.3bc72337.js"><link rel="prefetch" href="/assets/js/86.83f4f46e.js"><link rel="prefetch" href="/assets/js/87.bbb34f52.js"><link rel="prefetch" href="/assets/js/88.631724ab.js"><link rel="prefetch" href="/assets/js/89.14895942.js"><link rel="prefetch" href="/assets/js/90.dded3795.js"><link rel="prefetch" href="/assets/js/91.d2ad5f22.js"><link rel="prefetch" href="/assets/js/92.cffeae37.js"><link rel="prefetch" href="/assets/js/93.7f4d3060.js"><link rel="prefetch" href="/assets/js/94.b453a3de.js"><link rel="prefetch" href="/assets/js/95.69298361.js"><link rel="prefetch" href="/assets/js/96.70e2aa9c.js"><link rel="prefetch" href="/assets/js/97.0bf41173.js"><link rel="prefetch" href="/assets/js/98.ce30c36c.js"><link rel="prefetch" href="/assets/js/99.a80b0689.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3bd14237.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/author/" class="nav-link">Author</a></div><div class="nav-item"><a href="/articles/" class="nav-link">Blog</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/author/" class="nav-link">Author</a></div><div class="nav-item"><a href="/articles/" class="nav-link">Blog</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Learn Kubernetes  -  from the beginning, Part I, Basics, Deployment and Minikube</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/kubernetes-one.html#why-orchestration" class="sidebar-link">Why Orchestration</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/kubernetes-one.html#resources" class="sidebar-link">Resources</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/kubernetes-one.html#kubernetes" class="sidebar-link">Kubernetes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/kubernetes-one.html#installation" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/pages/kubernetes-one.html#run" class="sidebar-link">Run</a></li></ul></li><li><a href="/pages/kubernetes-one.html#learning-kubectl-and-basic-concepts" class="sidebar-link">Learning kubectl and basic concepts</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/kubernetes-one.html#summary" class="sidebar-link">Summary</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="learn-kubernetes-from-the-beginning-part-i-basics-deployment-and-minikube"><a href="#learn-kubernetes-from-the-beginning-part-i-basics-deployment-and-minikube" aria-hidden="true" class="header-anchor">#</a> Learn Kubernetes  -  from the beginning, Part I, Basics, Deployment and Minikube</h1> <p>Follow me on <a href="https://twitter.com/chris_noring" target="_blank" rel="noopener noreferrer">Twitter<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, happy to take your suggestions on topics or improvements /Chris</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/og54ug1i4yzrhen8q7ht.jpeg" alt=""></p> <blockquote><p>Kubernetes is about orchestrating containerized apps. Docker is great for your first few containers. As soon as you need to run on multiple machines and need to scale/up down and distribute the load and so on, you need an orchestrator - you need Kubernetes</p></blockquote> <p>This is the first part of a series of articles on Kubernetes, cause this topic is BIG!.</p> <ul><li>Part I - from the beginning, Part I, Basics, Deployment and Minikube
<strong>we are here</strong></li> <li><a href="https://softchris.github.io/pages/kubernetes-two.html" target="_blank" rel="noopener noreferrer">Part II introducing Services and Labeling<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
In this part, we deepen our knowledge of Pods and Nodes. We also introduce Services and labeling using labels to query our artifacts.</li> <li><a href="https://softchris.github.io/pages/kubernetes-three.html" target="_blank" rel="noopener noreferrer">Part III Scaling<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
Here we cover how to scale our app</li> <li><a href="https://softchris.github.io/pages/kubernetes-four.html" target="_blank" rel="noopener noreferrer">Part IV - Auto scaling<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> In this part we look at how to set up auto-scaling so we can handle sudden large increases of incoming requests</li></ul> <p>In this part I hope to cover the following:</p> <ul><li><strong>Why Kubernetes</strong> and Orchestration in General</li> <li><strong>Hello world</strong>: Minikube basics, talking through Minikube, simple deploy example</li> <li><strong>Cluster and basic commands</strong>, Nodes,</li> <li><strong>Deployments</strong>, what it is and deploying an app</li> <li><strong>Pods and Nodes</strong>, explain concepts and troubleshooting</li></ul> <h2 id="why-orchestration"><a href="#why-orchestration" aria-hidden="true" class="header-anchor">#</a> Why Orchestration</h2> <p>Well, it all started with containers. Containers gave us the ability to create repeatable environments so dev, staging, and prod all looked and functioned the same way. We got predictability and they were also light-weight as they drew resources from the host operating system. Such a great breakthrough for Developers and Ops but the Container API is really only good for managing a few containers at a time. Larger systems might consist of 100s or 1000+ containers and needs to be managed as well so we can do things like <em>scheduling</em>, <em>load balancing</em>, <em>distribution</em> and more.</p> <p>At this point, we need <em>orchestration</em> the ability for a system to handle all these container instances. This is where Kubernetes comes in.</p> <h2 id="resources"><a href="#resources" aria-hidden="true" class="header-anchor">#</a> Resources</h2> <ul><li><a href="https://kubernetes.io" target="_blank" rel="noopener noreferrer">Kubernetes.io<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
One of the best resources to learn about Kubernetes is at this official Kubernetes site by Google.</li> <li><a href="https://azure.microsoft.com/en-gb/topic/kubernetes/?wt.mc_id=personal-blog-chnoring" target="_blank" rel="noopener noreferrer">Kubernetes overview<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> An overview on Kubernetes, all its parts and how it works</li> <li><a href="https://azure.microsoft.com/en-gb/free/?wt.mc_id=personal-blog-chnoring" target="_blank" rel="noopener noreferrer">Free Azure Account<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> If you want to try out AKS, Azure Kubernetes Service, you will need a free Azure account</li> <li><a href="https://azure.microsoft.com/en-gb/services/kubernetes-service/?wt.mc_id=personal-blog-chnoring" target="_blank" rel="noopener noreferrer">Kubernetes in the Cloud<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> Do you feel you know everything about Kubernetes already and just want to learn how to use a managed service? Then this link is for you</li> <li><a href="https://docs.microsoft.com/en-gb/azure/aks/?wt.mc_id=personal-blog-chnoring" target="_blank" rel="noopener noreferrer">Documentation on AKS, Azure Kubernetes Service<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
Azure Kubernetes Service, a managed Kubernetes</li> <li><a href="https://docs.microsoft.com/en-us/azure/aks/best-practices?wt.mc_id=personal-blog-chnoring" target="_blank" rel="noopener noreferrer">Best practices on AKS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> You already know AKS and want to learn how to use it better?</li></ul> <h2 id="kubernetes"><a href="#kubernetes" aria-hidden="true" class="header-anchor">#</a> Kubernetes</h2> <p>So what do we know about Kubernetes?</p> <blockquote><p>It's an open-source system for automating deployment, scaling, and management of containerized applications</p></blockquote> <p>Let'start with the name. It's Greek for <strong>Helmsman</strong>, the person who steers the ship. Which is why the logo looks like this, a steering wheel on a boat:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/vku4umiwskzohzvl6uy7.png" alt=""></p> <p>It's Also called <strong>K8s</strong> so <strong>K</strong> ubernete <strong>s</strong>, 8 characters in the middle are removed. Now you can impress your friends that you know why it's referred to as K8.</p> <p>Here is some more Jeopardy knowledge on its origin. Kubernetes was born out of systems called Borg and Omega. It was donated to <a href="https://www.cncf.io/" target="_blank" rel="noopener noreferrer">CNCF<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, Cloud Native Computing Foundation in 2014. It's written in Go/Golang.</p> <p>If we see past all this trivia knowledge, it was built by Google as a response to their own experience handling a ton of containers. It's also Open Source and battle-tested to handle really large systems, like planet-scale large systems.</p> <p>So the sales pitch is:</p> <blockquote><p>Run billions of containers a week, Kubernetes can scale without increasing your ops team</p></blockquote> <p>Sounds amazing right, billions of containers cause we are all Google size. No? 😃 Well even if you have something like 10-100 containers, it's for you.</p> <p>## Getting started</p> <p>Ok ok, let's say I buy into all of this, how do I get started?</p> <blockquote><p>Impatient ey, sure let's start to do something practical with Minikube</p></blockquote> <p>Ok, sounds good I'm a coder, I like practical stuff. What is Minikube?</p> <blockquote><p>Minikube is a tool that lets us run Kubernetes locally</p></blockquote> <p>Oh, sweet, millions of containers on my little machine?</p> <blockquote><p>Well, no, let's start with a few and learn Kubernetes basics while at it.</p></blockquote> <h3 id="installation"><a href="#installation" aria-hidden="true" class="header-anchor">#</a> Installation</h3> <p>To install Minikube lets go to this <a href="https://kubernetes.io/docs/tasks/tools/install-minikube/" target="_blank" rel="noopener noreferrer">installation page<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>It's just a few short steps that means we install</p> <ul><li>a Hypervisor</li> <li>Kubectl (Kube control tool)</li> <li>Minikube</li></ul> <h3 id="run"><a href="#run" aria-hidden="true" class="header-anchor">#</a> Run</h3> <p>Get that thing up and running by typing:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>minikube start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>It should look something like this:
<img src="https://thepracticaldev.s3.amazonaws.com/i/oovr5vc6pyr0u382hnmo.png" alt=""></p> <p>You can also ensure that <code>kubectl</code> have been correctly installed and running:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>kubectl version
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Should give you something like this in response:
<img src="https://thepracticaldev.s3.amazonaws.com/i/jhaxnc774rhtjx3omh9y.png" alt=""></p> <p>Ok, now we are ready to learn Kubernetes.</p> <h2 id="learning-kubectl-and-basic-concepts"><a href="#learning-kubectl-and-basic-concepts" aria-hidden="true" class="header-anchor">#</a> Learning kubectl and basic concepts</h2> <p>In learning Kubernetes lets do so by learning more about <code>kubectl</code> a command line program that lets us interact with our Cluster and lets us deploy and manage applications on said Cluster.</p> <p>The word Cluster just means a group of similar things but in the context of Kubernetes, it means a <code>Master</code> and multiple worker machines called <code>Nodes</code>. Nodes were historically called Minions
<img src="https://thepracticaldev.s3.amazonaws.com/i/ulp0pywus1ughch1pova.gif" alt="">
, but not so anymore.</p> <p>The master decides what will run on the Nodes, which includes things like scheduled workloads or containerized apps. Which brings us to our next command:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>kubectl get nodes
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This should give us a result like this:
<img src="https://thepracticaldev.s3.amazonaws.com/i/quf19x7deqbzzvm7ef0j.png" alt="">
What this tells us what Nodes we have available to do work.</p> <p>Next up let's try to run our first app on Kubernetes with the <code>run</code> command like so:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>kubectl run kubernetes-first-app --image=gcr.io/google-samples/kubernetes-bootcamp:v1 --port=8080
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This should give us a response like so:
<img src="https://thepracticaldev.s3.amazonaws.com/i/4xmdywacngw5gntydxvm.png" alt=""></p> <p>Next up lets check that everything is up and running with the command:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>kubectl get deployments
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This shows the following in the terminal:
<img src="https://thepracticaldev.s3.amazonaws.com/i/0y4q4f6ixkw3ehud1b6g.png" alt=""></p> <p>In putting our app on the Kluster, by invoking the <code>run</code> command, Kubernetes performed a few things behind the scenes, it:</p> <ul><li><strong>searched</strong> for a suitable node where an instance of the application could be run, there was only one node so it got chosen</li> <li><strong>scheduled</strong> the application to run on that Node</li> <li><strong>configured</strong> the cluster to reschedule the instance on a new Node when needed</li></ul> <p>Next up we are going to introduce the concept <code>Pod</code>, so what is a Pod?</p> <p>A Pod is the smallest deployable unit and consists of one or many containers, for example, Docker containers. That's all we are going to say about Pods at the moment but if you really really want to know more have a read <a href="https://kubernetes.io/docs/concepts/workloads/pods/pod/" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>The reason for mentioning Pods at this point is that our container and app is placed inside of a Pod. Furthermore, Pods runs in a private isolated network that, although visible from other Pods and services, it cannot be accessed outside the network. Which means we can't reach our app with say a <code>curl</code> command.</p> <p>We can change that though. There is more than one way to expose our application to the outside world for now however we will use a proxy.</p> <p>Now open up a 2nd terminal window and type:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>kubectl proxy
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This will expose the <code>kubectl</code> as an API that we can query with HTTP request. The result should look like:
<img src="https://thepracticaldev.s3.amazonaws.com/i/wtfsul9d2adtwznty8ws.png" alt="">
Instead of typing <code>kubectl version</code> we can now type <code>curl http://localhost:8001/version</code> and get the same results:
<img src="https://thepracticaldev.s3.amazonaws.com/i/76x5cvo242ua1d8u5wuz.png" alt=""></p> <p>The API Server inside of Kubernetes have created an endpoint for each pod by its pod name. So the next step is to find out the pod name:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>kubectl get pods
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This will list all the pods you have, it should just be one pod at this point and look something like this:
<img src="https://thepracticaldev.s3.amazonaws.com/i/krb9t02drc4of97zjsj5.png" alt=""></p> <p>Then you can just save that down to a variable like so:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/zupuaoqzo57wosx6sdwr.png" alt=""></p> <p>Lastly, we can now do an HTTP call to learn more about our pod:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>curl http://localhost:8001/api/v1/namespaces/default/pods/$POD_NAME
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This will give us a long JSON response back (I trimmed it a bit but it goes on and on...)</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/qudludvb4jm5khhpsjfq.png" alt=""></p> <p>Maybe that's not super interesting for us as app developers. We want to know how our app is doing. Best way to know that is looking at the logs. Let's do that with this command:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>kubectl logs $POD_NAME
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>As you can see below we know get logs from our app:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/i4f57ddfcxwq20xipzts.png" alt=""></p> <p>Now that we know the Pods name we can do all sorts of things like checking its environment variables or even step inside the container and look at the content.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>kubectl exec $POD_NAME env
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This yields the following result:</p> <p><img src="https://thepracticaldev.s3.amazonaws.com/i/zzf260ecdpdrsw11y0th.png" alt=""></p> <p>Now lets step inside the container:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>kubectl exec -ti $POD_NAME bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://thepracticaldev.s3.amazonaws.com/i/mhfy1iunshteitx8zelm.png" alt=""></p> <p>We are inside! This means we can see what the source code looks like even:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cat server.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://thepracticaldev.s3.amazonaws.com/i/pd7hlljsiust9uh8tfkg.png" alt=""></p> <p>Inside of our container, we can now reach the running app by typing:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>curl http://localhost:8080
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="summary"><a href="#summary" aria-hidden="true" class="header-anchor">#</a> Summary</h2> <p>This is where we will stop for now.
What did we actually learn?</p> <ul><li>Kubernetes, its origin what it is</li> <li>Orchestration why you will soon need it</li> <li>Concepts like Master, Nodes and Pods</li> <li>Minikube, kubectl and how to deploy an image onto our Cluster</li></ul> <p>Feel like you have a ton more to learn? You're right this is a big topic.</p> <p>I hope you follow along on the next upcoming parts where we will learn more about Nodes, Pods, Services, Scaling, Updating and eventually how to use a managed service in the Cloud.</p> <p>Click here for the <a href="https://softchris.github.io/pages/kubernetes-two.html" target="_blank" rel="noopener noreferrer">Next part<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.90947bae.js" defer></script><script src="/assets/js/9.4bb2b8d6.js" defer></script><script src="/assets/js/4.4e8b8d29.js" defer></script><script src="/assets/js/139.0001dba6.js" defer></script>
  </body>
</html>
