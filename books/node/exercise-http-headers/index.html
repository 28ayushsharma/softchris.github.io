<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Node.js Book - Exercise HTTP Headers</title>
    <meta name="description" content="">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <link rel="preload" href="/assets/css/0.styles.23d22851.css" as="style"><link rel="preload" href="/assets/js/app.24704f31.js" as="script"><link rel="preload" href="/assets/js/10.50c128a6.js" as="script"><link rel="preload" href="/assets/js/36.350691e2.js" as="script"><link rel="prefetch" href="/assets/js/1.36663999.js"><link rel="prefetch" href="/assets/js/100.832843ee.js"><link rel="prefetch" href="/assets/js/101.58643cde.js"><link rel="prefetch" href="/assets/js/102.c2419951.js"><link rel="prefetch" href="/assets/js/103.005176e9.js"><link rel="prefetch" href="/assets/js/104.74606826.js"><link rel="prefetch" href="/assets/js/105.24c2d5aa.js"><link rel="prefetch" href="/assets/js/106.55618361.js"><link rel="prefetch" href="/assets/js/107.83e2c834.js"><link rel="prefetch" href="/assets/js/108.fcaf3a66.js"><link rel="prefetch" href="/assets/js/109.e4820d72.js"><link rel="prefetch" href="/assets/js/11.a104adc8.js"><link rel="prefetch" href="/assets/js/110.acd428a7.js"><link rel="prefetch" href="/assets/js/111.b728f009.js"><link rel="prefetch" href="/assets/js/112.31679291.js"><link rel="prefetch" href="/assets/js/113.0cea2263.js"><link rel="prefetch" href="/assets/js/114.4d5e3ccd.js"><link rel="prefetch" href="/assets/js/115.6cbd4799.js"><link rel="prefetch" href="/assets/js/116.44cdb765.js"><link rel="prefetch" href="/assets/js/117.f22ffed2.js"><link rel="prefetch" href="/assets/js/118.fda8edf7.js"><link rel="prefetch" href="/assets/js/119.1ea9eae7.js"><link rel="prefetch" href="/assets/js/12.02e6e552.js"><link rel="prefetch" href="/assets/js/120.cf073939.js"><link rel="prefetch" href="/assets/js/121.dc2e4d8b.js"><link rel="prefetch" href="/assets/js/122.b3ca0552.js"><link rel="prefetch" href="/assets/js/123.382bf140.js"><link rel="prefetch" href="/assets/js/124.b791f567.js"><link rel="prefetch" href="/assets/js/125.88e1d9ef.js"><link rel="prefetch" href="/assets/js/126.dc6e1538.js"><link rel="prefetch" href="/assets/js/127.66804437.js"><link rel="prefetch" href="/assets/js/128.17f62a6f.js"><link rel="prefetch" href="/assets/js/129.57ea763a.js"><link rel="prefetch" href="/assets/js/13.215ad842.js"><link rel="prefetch" href="/assets/js/130.58e7dbf8.js"><link rel="prefetch" href="/assets/js/131.42d28338.js"><link rel="prefetch" href="/assets/js/132.5905a839.js"><link rel="prefetch" href="/assets/js/133.0209a5d4.js"><link rel="prefetch" href="/assets/js/134.e0ba3c0c.js"><link rel="prefetch" href="/assets/js/135.9daa05c5.js"><link rel="prefetch" href="/assets/js/136.5fed2e61.js"><link rel="prefetch" href="/assets/js/137.afa1f455.js"><link rel="prefetch" href="/assets/js/138.86e59e71.js"><link rel="prefetch" href="/assets/js/139.c32904ca.js"><link rel="prefetch" href="/assets/js/14.1a060010.js"><link rel="prefetch" href="/assets/js/140.b91b86f6.js"><link rel="prefetch" href="/assets/js/141.dce0c98e.js"><link rel="prefetch" href="/assets/js/142.a720f1cc.js"><link rel="prefetch" href="/assets/js/143.5dd23bb9.js"><link rel="prefetch" href="/assets/js/144.7637c352.js"><link rel="prefetch" href="/assets/js/145.62cbf79d.js"><link rel="prefetch" href="/assets/js/146.64a5dfee.js"><link rel="prefetch" href="/assets/js/147.bf8a0bfa.js"><link rel="prefetch" href="/assets/js/148.255d1e0a.js"><link rel="prefetch" href="/assets/js/149.a1ea7d62.js"><link rel="prefetch" href="/assets/js/15.34674cd6.js"><link rel="prefetch" href="/assets/js/150.dae3400c.js"><link rel="prefetch" href="/assets/js/151.30a5ae9d.js"><link rel="prefetch" href="/assets/js/152.f7d2856c.js"><link rel="prefetch" href="/assets/js/153.1f3dfd3e.js"><link rel="prefetch" href="/assets/js/154.f5e761e3.js"><link rel="prefetch" href="/assets/js/155.487cb1ac.js"><link rel="prefetch" href="/assets/js/156.87dff4f6.js"><link rel="prefetch" href="/assets/js/157.e46db977.js"><link rel="prefetch" href="/assets/js/158.78548438.js"><link rel="prefetch" href="/assets/js/159.6e55156d.js"><link rel="prefetch" href="/assets/js/16.119e91d4.js"><link rel="prefetch" href="/assets/js/160.5d45aa73.js"><link rel="prefetch" href="/assets/js/161.71318bd8.js"><link rel="prefetch" href="/assets/js/162.c8cea25d.js"><link rel="prefetch" href="/assets/js/163.a7833ee3.js"><link rel="prefetch" href="/assets/js/164.52d537cd.js"><link rel="prefetch" href="/assets/js/165.2158f290.js"><link rel="prefetch" href="/assets/js/166.7edeee8d.js"><link rel="prefetch" href="/assets/js/167.d0986a2c.js"><link rel="prefetch" href="/assets/js/168.aee92853.js"><link rel="prefetch" href="/assets/js/169.f1c69f9e.js"><link rel="prefetch" href="/assets/js/17.780050f1.js"><link rel="prefetch" href="/assets/js/170.7788d661.js"><link rel="prefetch" href="/assets/js/171.a9a9a27a.js"><link rel="prefetch" href="/assets/js/172.d04eb1b7.js"><link rel="prefetch" href="/assets/js/173.198a9e81.js"><link rel="prefetch" href="/assets/js/174.a5fb669c.js"><link rel="prefetch" href="/assets/js/175.931caef2.js"><link rel="prefetch" href="/assets/js/176.79d52a25.js"><link rel="prefetch" href="/assets/js/177.3d157478.js"><link rel="prefetch" href="/assets/js/178.b32955d2.js"><link rel="prefetch" href="/assets/js/179.0932be53.js"><link rel="prefetch" href="/assets/js/18.6ebceaf1.js"><link rel="prefetch" href="/assets/js/180.0d92fa36.js"><link rel="prefetch" href="/assets/js/181.8db46515.js"><link rel="prefetch" href="/assets/js/182.a244df15.js"><link rel="prefetch" href="/assets/js/183.512d251b.js"><link rel="prefetch" href="/assets/js/184.ec464230.js"><link rel="prefetch" href="/assets/js/185.b987c6e1.js"><link rel="prefetch" href="/assets/js/186.d52074ed.js"><link rel="prefetch" href="/assets/js/187.9e85ad4d.js"><link rel="prefetch" href="/assets/js/188.9025b82e.js"><link rel="prefetch" href="/assets/js/189.29cd70a4.js"><link rel="prefetch" href="/assets/js/19.910fc8d0.js"><link rel="prefetch" href="/assets/js/190.d01adc16.js"><link rel="prefetch" href="/assets/js/191.67b96f38.js"><link rel="prefetch" href="/assets/js/192.df764c7c.js"><link rel="prefetch" href="/assets/js/193.42944620.js"><link rel="prefetch" href="/assets/js/194.38c50b13.js"><link rel="prefetch" href="/assets/js/195.7a74351d.js"><link rel="prefetch" href="/assets/js/196.ef5a9160.js"><link rel="prefetch" href="/assets/js/197.d2c4a013.js"><link rel="prefetch" href="/assets/js/198.5b732bba.js"><link rel="prefetch" href="/assets/js/199.72ae3d2d.js"><link rel="prefetch" href="/assets/js/20.f2e93d17.js"><link rel="prefetch" href="/assets/js/200.d270f882.js"><link rel="prefetch" href="/assets/js/201.b9725a58.js"><link rel="prefetch" href="/assets/js/202.29dec5af.js"><link rel="prefetch" href="/assets/js/203.c72e7565.js"><link rel="prefetch" href="/assets/js/21.710dadb0.js"><link rel="prefetch" href="/assets/js/22.f4b7a74b.js"><link rel="prefetch" href="/assets/js/23.fa51555f.js"><link rel="prefetch" href="/assets/js/24.284f93d3.js"><link rel="prefetch" href="/assets/js/25.a9fce161.js"><link rel="prefetch" href="/assets/js/26.e3067144.js"><link rel="prefetch" href="/assets/js/27.9c9ebb3b.js"><link rel="prefetch" href="/assets/js/28.f1b496e3.js"><link rel="prefetch" href="/assets/js/29.08e9944c.js"><link rel="prefetch" href="/assets/js/3.970a66a4.js"><link rel="prefetch" href="/assets/js/30.e5e5c59b.js"><link rel="prefetch" href="/assets/js/31.0cc11bf2.js"><link rel="prefetch" href="/assets/js/32.f2e286bb.js"><link rel="prefetch" href="/assets/js/33.eb167d44.js"><link rel="prefetch" href="/assets/js/34.1a668786.js"><link rel="prefetch" href="/assets/js/35.ccde8210.js"><link rel="prefetch" href="/assets/js/37.59283e16.js"><link rel="prefetch" href="/assets/js/38.ec99f979.js"><link rel="prefetch" href="/assets/js/39.18b0acf7.js"><link rel="prefetch" href="/assets/js/4.eac68367.js"><link rel="prefetch" href="/assets/js/40.c95b5321.js"><link rel="prefetch" href="/assets/js/41.390ffe47.js"><link rel="prefetch" href="/assets/js/42.66bb07f8.js"><link rel="prefetch" href="/assets/js/43.9a56b84d.js"><link rel="prefetch" href="/assets/js/44.1ca19751.js"><link rel="prefetch" href="/assets/js/45.3024117c.js"><link rel="prefetch" href="/assets/js/46.74ac226f.js"><link rel="prefetch" href="/assets/js/47.2a0e468e.js"><link rel="prefetch" href="/assets/js/48.ebef90c8.js"><link rel="prefetch" href="/assets/js/49.33d9d0c4.js"><link rel="prefetch" href="/assets/js/5.d1da013e.js"><link rel="prefetch" href="/assets/js/50.d3ddc342.js"><link rel="prefetch" href="/assets/js/51.4466aba2.js"><link rel="prefetch" href="/assets/js/52.e69de275.js"><link rel="prefetch" href="/assets/js/53.4d5b9ce7.js"><link rel="prefetch" href="/assets/js/54.222addc9.js"><link rel="prefetch" href="/assets/js/55.ee80e16b.js"><link rel="prefetch" href="/assets/js/56.8246b35d.js"><link rel="prefetch" href="/assets/js/57.1c4677b9.js"><link rel="prefetch" href="/assets/js/58.731c5de0.js"><link rel="prefetch" href="/assets/js/59.2f91ecc3.js"><link rel="prefetch" href="/assets/js/6.9bdf2d86.js"><link rel="prefetch" href="/assets/js/60.67ca9192.js"><link rel="prefetch" href="/assets/js/61.61f01cf6.js"><link rel="prefetch" href="/assets/js/62.24f5a40d.js"><link rel="prefetch" href="/assets/js/63.60a38d5b.js"><link rel="prefetch" href="/assets/js/64.298ecd6c.js"><link rel="prefetch" href="/assets/js/65.a5e5b25b.js"><link rel="prefetch" href="/assets/js/66.ed942689.js"><link rel="prefetch" href="/assets/js/67.20ca5d8a.js"><link rel="prefetch" href="/assets/js/68.51a766d8.js"><link rel="prefetch" href="/assets/js/69.2f1186ea.js"><link rel="prefetch" href="/assets/js/7.8cd56b2f.js"><link rel="prefetch" href="/assets/js/70.8f3a0f45.js"><link rel="prefetch" href="/assets/js/71.f2d8b3eb.js"><link rel="prefetch" href="/assets/js/72.e816ed3a.js"><link rel="prefetch" href="/assets/js/73.d791feee.js"><link rel="prefetch" href="/assets/js/74.5973a4fb.js"><link rel="prefetch" href="/assets/js/75.760ceb86.js"><link rel="prefetch" href="/assets/js/76.232ad0b0.js"><link rel="prefetch" href="/assets/js/77.49a534d4.js"><link rel="prefetch" href="/assets/js/78.134a5d5e.js"><link rel="prefetch" href="/assets/js/79.986ee003.js"><link rel="prefetch" href="/assets/js/8.6b13a443.js"><link rel="prefetch" href="/assets/js/80.f2ed7194.js"><link rel="prefetch" href="/assets/js/81.b53946f2.js"><link rel="prefetch" href="/assets/js/82.5a42831f.js"><link rel="prefetch" href="/assets/js/83.1bec09df.js"><link rel="prefetch" href="/assets/js/84.f8c4a382.js"><link rel="prefetch" href="/assets/js/85.569d3ef1.js"><link rel="prefetch" href="/assets/js/86.f7c2d0fe.js"><link rel="prefetch" href="/assets/js/87.66375412.js"><link rel="prefetch" href="/assets/js/88.4904c176.js"><link rel="prefetch" href="/assets/js/89.ceed231e.js"><link rel="prefetch" href="/assets/js/9.454b5262.js"><link rel="prefetch" href="/assets/js/90.b9e7590b.js"><link rel="prefetch" href="/assets/js/91.cd9f26cc.js"><link rel="prefetch" href="/assets/js/92.09574fb8.js"><link rel="prefetch" href="/assets/js/93.7d20df23.js"><link rel="prefetch" href="/assets/js/94.05e51833.js"><link rel="prefetch" href="/assets/js/95.90bc71f0.js"><link rel="prefetch" href="/assets/js/96.223a0481.js"><link rel="prefetch" href="/assets/js/97.607b5c0c.js"><link rel="prefetch" href="/assets/js/98.a8e011ae.js"><link rel="prefetch" href="/assets/js/99.1d4527be.js">
    <link rel="stylesheet" href="/assets/css/0.styles.23d22851.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="book-layout" data-v-f2b31bf6><div class="left" data-v-f2b31bf6><div class="book-detail" data-v-d992904e data-v-f2b31bf6><div data-v-d992904e><div data-v-d992904e><!----> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth1" data-v-d992904e><!----> <span data-v-d992904e>Node.js Book - Install</span></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth1" data-v-d992904e><!----> <span data-v-d992904e>Node.js Book - IO</span></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth1" data-v-d992904e><!----> <span data-v-d992904e>Node.js Book - HTTP</span></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/http-introduction/" class="title" data-v-d992904e>Node.js Book - HTTP introduction</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/http-server/" class="title" data-v-d992904e>Node.js Book - HTTP Server</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/exercise-http-server/" class="title" data-v-d992904e>Node.js Book - Exercise HTTP Server</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/http-status-codes/" class="title" data-v-d992904e>Node.js Book - HTTP Status codes</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/exercise-status-codes/" class="title" data-v-d992904e>Node.js Book - Exercise - Status codes</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/http-headers/" class="title" data-v-d992904e>Node.js Book - HTTP Headers</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2 selected" data-v-d992904e><a href="/books/node/exercise-http-headers/" class="title selected" data-v-d992904e>Node.js Book - Exercise HTTP Headers</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/http-content/" class="title" data-v-d992904e>Node.js Book - HTTP Content types</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/exercise-http-content/" class="title" data-v-d992904e>Node.js Book - Exercise HTTP Content types</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth1" data-v-d992904e><!----> <span data-v-d992904e>Node.js Book - Express</span></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/express-introduction/" class="title" data-v-d992904e>Node.js Book - Express introduction</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/exercise-express/" class="title" data-v-d992904e>Node.js Book - Exercise express</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/express-routing/" class="title" data-v-d992904e>Node.js Book - Express routing</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/exercise-express-routing/" class="title" data-v-d992904e>Node.js Book - Exercise express routing</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/express-middleware/" class="title" data-v-d992904e>Node.js Book -  Express middleware</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/exercise-express-middleware/" class="title" data-v-d992904e>Node.js Book -  Exercise express middleware</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/express-forms/" class="title" data-v-d992904e>Node.js Book -  Express forms</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/exercise-express-forms/" class="title" data-v-d992904e>Node.js Book - Exercise express forms</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/express-file/" class="title" data-v-d992904e>Node.js Book - Express file upload</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/http-routing/" class="title" data-v-d992904e>Node.js Book - HTTP Routing</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/exercise-http-routing/" class="title" data-v-d992904e>Node.js Book - Exercise HTTP Routing</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/http-client/" class="title" data-v-d992904e>Node.js Book - HTTP Client</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/exercise-http-client/" class="title" data-v-d992904e>Node.js Book - Exercise HTTP Client</a> <!----></div> <div data-v-d992904e>
      
    </div></div><div data-v-d992904e><div class="depth2" data-v-d992904e><a href="/books/node/exercise-express-file/" class="title" data-v-d992904e>Node.js Book - Exercise file upload</a> <!----></div> <div data-v-d992904e>
      
    </div></div></div></div> <div class="right theme-default-content" data-v-f2b31bf6><div class="social" data-v-f2b31bf6><div data-v-f2b31bf6><span tabindex="0" data-link="#share-facebook"><i class="fa fa-facebook"></i> Facebook
          </span> <span tabindex="0" data-link="#share-linkedin"><i class="fa fa-linkedin"></i> LinkedIn
          </span> <span tabindex="0" data-link="#share-reddit"><i class="fa fa-reddit"></i> Reddit
          </span> <span tabindex="0" data-link="#share-twitter"><i class="fa fa-twitter"></i> Twitter
          </span></div></div> <div class="navigation" data-v-f2b31bf6><a href="/books/node/http-content" data-v-f2b31bf6> HTTP Content types &gt;</a></div> <div class="content__default" data-v-f2b31bf6><h1 id="exercise-http-headers"><a href="#exercise-http-headers" aria-hidden="true" class="header-anchor">#</a> Exercise HTTP Headers</h1> <p>Follow me on <a href="https://twitter.com/chris_noring" target="_blank" rel="noopener noreferrer">Twitter<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, happy to take your suggestions on topics or improvements /Chris</p> <p>In this exercise, we learn how to set different headers and work with different functions meant for headers.</p> <h2 id="exercise-setting-headers"><a href="#exercise-setting-headers" aria-hidden="true" class="header-anchor">#</a> Exercise - setting headers</h2> <p>There are two methods available that lets us set header properties:</p> <ol><li><code>writeHead()</code>, this method writes the header at once to the response stream. It also sends any buffered header to the stream. The method takes as status code as its first input parameter and the whole header as the second input parameter.</li> <li><code>setHeader()</code>, this method sets a single property on the header object. This operation is buffered and is only sent when calling <code>writeHead()</code> or <code>end()</code>.</li></ol> <p>Create the file <code>server.js</code> and give it the following content:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Content-Type'</span><span class="token punctuation">,</span> <span class="token string">'text/plain'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'custom'</span><span class="token punctuation">:</span> <span class="token string">'some value'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'from server'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Listening at 8000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Above we are using both the methods <code>setHeader()</code> and <code>writeHead()</code>. What we want to demonstrate is how <code>writeHead()</code> merge together what has been written to header rather than overwriting.</p> <p>Start the server with the command:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>node server.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>To see that behavior, let's now create the file <code>client.js</code> and give it the following content:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'http://localhost:8000'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Chunk: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>chunk<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Above we are printing out the headers. Let's start this program with the following command:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>node client.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>You should see the following output:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">{</span>
  <span class="token string">'content-type'</span><span class="token keyword">:</span> <span class="token string">'text/plain'</span>,
  custom: <span class="token string">'some value'</span>,
  date: <span class="token string">'Wed, 25 Mar 2020 20:25:48 GMT'</span>,
  connection: <span class="token string">'close'</span>,
  <span class="token string">'transfer-encoding'</span><span class="token keyword">:</span> <span class="token string">'chunked'</span>
<span class="token punctuation">}</span>
Chunk: from server
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>As discussed we can see that both the header <code>content-type</code> and <code>custom</code> is part of the response.</p></div> <div class="navigation" data-v-f2b31bf6><a href="/books/node/http-content" data-v-f2b31bf6> HTTP Content types &gt;</a></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.24704f31.js" defer></script><script src="/assets/js/10.50c128a6.js" defer></script><script src="/assets/js/36.350691e2.js" defer></script>
  </body>
</html>
